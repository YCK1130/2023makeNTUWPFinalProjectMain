(this["webpackJsonpntuee-course"]=this["webpackJsonpntuee-course"]||[]).push([[0],{223:function(e,t){},240:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(30),c=a.n(r),o=a(22),s=a(19),d=a(44),l=a(354),u=a(21),j=a(37),b=a(90),h=a(16),p=a(53),m=a.n(p),f=a(149),O=a.n(f),x=function(e){403===e.response.status&&window.location.replace("/")},g=function(){return m.a.get("/api/session")},v=function(e,t){return m.a.post("/api/session",O.a.stringify({teamID:e,password:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},y=function(){return m.a.delete("/api/session")},w=function(){return m.a.get("/api/users",{params:{teamName:1,authority:1}}).catch((function(e){return x(e)}))},N=function(e){return m.a.post("/api/users",e).catch((function(e){return x(e)}))},k=function(e){return m.a.delete("/api/users",{data:Object(h.a)(e)}).catch((function(e){return x(e)}))},C=function(e){return m.a.put("/api/users",e).catch((function(e){return x(e)}))},S=function(e){return m.a.put("/api/password",e).catch((function(e){return x(e)}))},I=Object(b.b)({name:"session",initialState:{initialized:!1,isLogin:!1,authority:null,teamID:null},reducers:{setLogin:function(e,t){e.isLogin=!0,e.authority=t.payload.authority,e.userID=t.payload.teamID},setLogout:function(e){e.isLogin=!1,e.authority=null,e.userID=null},setInitialized:function(e){e.initialized=!0}}}),D=I.actions,P=D.setLogin,B=D.setLogout,T=D.setInitialized,A=function(e){return e.session},L=I.reducer,W=a(1);function E(e){var t=e.children,a=e.path,n=Object(o.c)(A),i=n.isLogin,r=n.authority;return Object(W.jsx)(s.b,{path:a,render:function(){return i?0===r?Object(W.jsx)(s.a,{to:"/"}):t:Object(W.jsx)(s.a,{to:"/login"})}})}function F(e){var t=e.children,a=e.path,n=Object(o.c)(A).isLogin;return Object(W.jsx)(s.b,{path:a,render:function(){return n?Object(W.jsx)(s.a,{to:"/"}):t}})}function U(e){var t=e.children,a=e.path;return Object(W.jsx)(s.b,{exact:!0,path:a,render:function(){return t}})}var z=a(11),R=a(14),M=a(4),H=a(6),G=a(313),q=a(24),J=a(303),Y=a(335),$=a(336),V=a(337),X=a(84),K=a(327),Q=a(339),Z=a(320),_=a(308),ee=a(309),te=a(155),ae=a.n(te),ne=a(160),ie=a.n(ne),re=a(159),ce=a.n(re),oe=a(97),se=a.n(oe),de=a(122),le=a.n(de),ue=a(154),je=a.n(ue),be=200,he=Object(G.a)((function(e){var t;return{drawer:{width:be,flexShrink:0,whiteSpace:"nowrap"},root:{},appBar:{paddingTop:e.spacing(1),color:"#fff",boxShadow:"none",backgroundColor:"rgb(25,34,49,.7)",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:Object(M.a)({},e.breakpoints.up("phone"),{marginLeft:be,width:"calc(100% - ".concat(be,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}),hide:{display:"none"},appBarTypography:{flexGrow:1},drawerOpen:Object(M.a)({},e.breakpoints.up("phone"),{width:be,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}),drawerClose:Object(M.a)({overflowX:"hidden",overflowY:"hidden",width:e.spacing(0)},e.breakpoints.up("phone"),{width:e.spacing(0)+1,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})}),menuButton:{marginRight:10},iconButton:{marginRight:0},toolbar:Object(R.a)({marginTop:e.spacing(1),display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,0)},e.mixins.toolbar),content:(t={flexGrow:1,padding:e.spacing(3)},Object(M.a)(t,e.breakpoints.up("phone"),{transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})}),Object(M.a)(t,"marginLeft",0),t),contentShift:Object(M.a)({},e.breakpoints.up("phone"),{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:be}),offset:e.mixins.toolbar}})),pe=function(e){var t,a,i=e.children,r=Object(o.c)(A),c=r.isLogin,l=r.authority,b=r.userID,h=Object(s.g)(),p=he(),m=Object(q.a)(),f=Object(n.useState)(!1),O=Object(z.a)(f,2),x=O[0],g=O[1],v=Object(o.b)(),w=function(){g(!1)},N=c?{1:[{text:"Main",to:"/",icon:Object(W.jsx)(se.a,{})},{text:"Student Data",to:"/studentdata",icon:Object(W.jsx)(je.a,{})}]}[l]||[{text:"Main",to:"/",icon:Object(W.jsx)(se.a,{})}]:[{text:"Main",to:"/",icon:Object(W.jsx)(se.a,{})},{text:"Login",to:"/login",icon:Object(W.jsx)(le.a,{})}],k=c?b:"";return Object(W.jsxs)("div",{className:p.root,children:[Object(W.jsx)(J.a,{}),Object(W.jsx)(Y.a,{className:Object(H.a)(p.appBar,Object(M.a)({},p.appBarShift,x)),position:"fixed",children:Object(W.jsxs)($.a,{children:[Object(W.jsx)(V.a,{color:"inherit","aria-label":"open drawer",onClick:function(){g(!0)},edge:"start",className:Object(H.a)(p.menuButton,Object(M.a)({},p.hide,x)),children:Object(W.jsx)(ae.a,{})}),Object(W.jsx)(X.a,{variant:"h5",className:p.appBarTypography,children:Object(W.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return h.push("/")},"aria-hidden":"true",children:"MakeNTU"})}),Object(W.jsx)(X.a,{variant:"h6",className:Object(H.a)(Object(M.a)({},p.hide,c)),children:Object(W.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return h.push("/login")},"aria-hidden":"true",children:"LOGIN"})}),Object(W.jsx)(X.a,{variant:"h6",children:k}),Object(W.jsx)(V.a,{className:Object(H.a)(p.iconButton,Object(M.a)({},p.hide,!c)),onClick:function(){return v(function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:e.sent,t(B());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:Object(W.jsx)(le.a,{})})]})}),Object(W.jsxs)(K.a,{anchor:window.innerWidth>=700?"left":"top",variant:"permanent",className:Object(H.a)(p.drawer,(t={},Object(M.a)(t,p.drawerOpen,x),Object(M.a)(t,p.drawerClose,!x),t)),classes:{paper:Object(H.a)((a={},Object(M.a)(a,p.drawerOpen,x),Object(M.a)(a,p.drawerClose,!x),a))},children:[Object(W.jsx)("div",{className:p.toolbar,children:Object(W.jsx)(V.a,{onClick:w,children:"rtl"===m.direction?Object(W.jsx)(ce.a,{}):Object(W.jsx)(ie.a,{})})}),Object(W.jsx)(Q.a,{children:N.map((function(e){var t=e.text,a=e.to,n=e.icon;return Object(W.jsxs)(Z.a,{button:!0,component:d.b,to:a,onClick:w,children:[Object(W.jsx)(_.a,{children:n}),Object(W.jsx)(ee.a,{primary:t})]},t)}))})]}),Object(W.jsx)("div",{className:p.offset}),Object(W.jsx)("div",{className:Object(H.a)(p.content,Object(M.a)({},p.contentShift,x)),children:i})]})},me=a(162),fe=a(325),Oe=a(333),xe=a(328);function ge(){var e=Object(s.g)(),t=Object(G.a)((function(){return{root:{flexGrow:1,width:"100%",height:"100vh",overflow:"auto"},paper:{background:"rgb(0,0,0,.0)",boxShadow:"none"},text:{margin:"auto",textAlign:"start",width:"80%"},time:{margin:"auto",color:"#F5DE83",textAlign:"end",width:"70%",fontWeight:"400"}}}))(),a=Object(o.c)(A).isLogin;return Object(W.jsx)(me.Element,{name:"title",children:Object(W.jsx)("div",{className:t.root,children:Object(W.jsx)(fe.a,{container:!0,direction:"column",style:{padding:"10px",margin:"auto",marginTop:"5%",marginLeft:"30%",width:"90%",maxWidth:"500px",maxHeight:"500px"},children:Object(W.jsxs)(Oe.a,{className:t.paper,children:[Object(W.jsxs)(fe.a,{item:!0,style:{marginTop:"15%",marginLeft:"5%"},children:[Object(W.jsx)(X.a,{gutterBottom:!0,variant:"h5",className:t.text,style:{opacity:".5",textDecoration:"none"},children:"MakeNTU"}),Object(W.jsx)(X.a,{variant:"h3",className:t.text,style:{marginBottom:"18px"},children:"Competition Web"})]}),!a&&Object(W.jsx)(xe.a,{style:{width:"70%",display:"flex",margin:"auto",marginTop:"15%",marginBottom:"3%"},variant:"outlined",color:"primary",onClick:function(){return e.push("/login")},children:Object(W.jsx)(d.b,{style:{textDecoration:"none",color:"white"},to:"/login",children:"Log in"})})]})})})})}var ve,ye,we,Ne=a(34),ke=a(100),Ce=ke.a.div(ve||(ve=Object(Ne.a)(["\n  width: 100%;\n  height: 10%;\n  display: flex;\n  margin: auto;\n  flex-direction: column;\n  align-items: center;\n"]))),Se=ke.a.h1(ye||(ye=Object(Ne.a)(["\n  font-size: 25px;\n  font-weight: 500;\n  line-height: 1.4;\n  color: #fff;\n  margin: 0;\n  margin-bottom: 10px;\n"]))),Ie=ke.a.div(we||(we=Object(Ne.a)(["\n  width: 80%;\n  display: flex;\n  height: 150px;\n  /* overflow:auto; */\n  flex-direction: column;\n  font-size: 12px;\n  letter-spacing: 2px;\n  border-top: 2px solid #cdcdcd;\n  padding-right: 10px;\n  padding-left: 10px;\n\n  color: #fff;\n  align-items: center;\n  /* justify-content: space-between; */\n  @media screen and (max-width: 480px) {\n    width: 90%;\n    height: 130px;\n    display: flex;\n    overflow: auto;\n    font-size: 11px;\n    letter-spacing: 1.5px;\n    line-height: 1.5;\n    flex-direction: column;\n    // justify-content: space-between;\n    /* align-items:center; */\n    padding-left: 8px;\n    padding-right: 8px;\n  }\n"])));function De(){return Object(W.jsxs)(Ce,{children:[Object(W.jsx)(Se,{children:"Developers"}),Object(W.jsx)(Ie,{children:Object(W.jsx)("p",{children:" \u8cf4\u7fa4\u8cbf "})})]})}function Pe(){return Object(W.jsxs)("div",{children:[Object(W.jsx)(ge,{}),Object(W.jsx)(De,{})]})}var Be=a(326),Te=a(329),Ae=a(330),Le=a(340),We=a(341),Ee=a(166),Fe=a.n(Ee),Ue=a(167),ze=a.n(Ue),Re=a(168),Me=a.n(Re);function He(){return Object(W.jsxs)(X.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","NTUEE ",(new Date).getFullYear(),"."]})}var Ge=Object(G.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"5%"},avatar:{margin:e.spacing(1),marginTop:e.spacing(8),backgroundColor:e.palette.secondary.main,height:"70px",width:"70px"},form:{width:"80%",marginTop:e.spacing(5),marginBottom:e.spacing(8)},submit:{margin:e.spacing(5,0,2)},accountmargin:{marginBottom:e.spacing(2)}}}));function qe(){var e=Ge(),t=Object(o.b)(),a=i.a.useState({account:"",password:"",showPassword:!1,error:!1}),n=Object(z.a)(a,2),r=n[0],c=n[1],s=function(e){return function(t){c(Object(R.a)(Object(R.a)({},r),{},Object(M.a)({},e,t.target.value)))}},d=function(){var e=Object(j.a)(Object(u.a)().mark((function e(a){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),/^$/i.test(r.password)){e.next=16;break}return r.error=!1,e.prev=3,e.next=6,v(r.account,r.password);case 6:n=e.sent,t(P(n.data)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),r.error=!0;case 14:e.next=17;break;case 16:r.error=!0;case 17:c(Object(R.a)(Object(R.a)({},r),{},{account:"",password:"",showPassword:""}));case 18:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsx)("div",{children:Object(W.jsxs)(Be.a,{component:"main",maxWidth:"xs",children:[Object(W.jsx)(J.a,{}),Object(W.jsxs)("div",{className:e.paper,children:[Object(W.jsx)(Te.a,{className:e.avatar,children:Object(W.jsx)(Fe.a,{style:{fontSize:40}})}),Object(W.jsx)(X.a,{component:"h1",variant:"h5",children:Object(W.jsx)("div",{children:"Sign in"})}),Object(W.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:d,children:[Object(W.jsx)(Ae.a,{error:r.error,margin:"dense",required:!0,fullWidth:!0,id:"StudentId",placeholder:"Student ID",value:r.account,name:"StudentId",className:e.accountmargin,autoComplete:"StudentId",onChange:s("account"),autoFocus:!0}),Object(W.jsx)(Ae.a,{error:r.error,margin:"dense",required:!0,fullWidth:!0,name:"password",placeholder:"Password",value:r.password,id:"password",type:r.showPassword?"text":"password",autoComplete:"current-password",onChange:s("password"),endAdornment:Object(W.jsx)(Le.a,{position:"end",children:Object(W.jsx)(V.a,{"aria-label":"toggle password visibility",onClick:function(){c(Object(R.a)(Object(R.a)({},r),{},{showPassword:!r.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:r.showPassword?Object(W.jsx)(ze.a,{}):Object(W.jsx)(Me.a,{})})})}),Object(W.jsx)("div",{style:{color:"red"},children:r.error?"Incorrect account or password":null}),Object(W.jsx)(xe.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"primary",className:e.submit,children:Object(W.jsx)("div",{children:"Sign in"})}),Object(W.jsx)(We.a,{children:Object(W.jsx)(He,{})})]})]})]})})}var Je=a(350),Ye=a(311),$e=a(351),Ve=a(322),Xe=a(352),Ke=a(323),Qe=a(314),Ze=a(332),_e=a(353),et=a(321),tt=a(318),at=a(101),nt=a.n(at),it=a(299),rt=a(342),ct=a(343),ot=a(344),st=a(316),dt=a(331),lt=a(345),ut=a(312),jt=a(346),bt=a(347),ht=a(348),pt=a(317),mt=a(123),ft=a.n(mt),Ot=a(170),xt=a.n(Ot),gt=a(169);function vt(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function yt(e,t){return"desc"===e?function(e,a){return vt(e,a,t)}:function(e,a){return-vt(e,a,t)}}function wt(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}var Nt=[{id:"id",numeric:!1,disablePadding:!0,label:"id"},{id:"name",numeric:!1,disablePadding:!0,label:"name"},{id:"authority",numeric:!1,disablePadding:!0,label:"authority"},{id:"password",numeric:!1,disablePadding:!0,label:"password"}];function kt(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,i=e.orderBy,r=e.numSelectedInPage,c=e.rowCount,o=e.onRequestSort;return Object(W.jsx)(rt.a,{className:t.head,children:Object(W.jsxs)(ct.a,{children:[Object(W.jsx)(ot.a,{padding:"none",className:t.headCell,children:Object(W.jsx)(st.a,{indeterminate:r>0&&r<c,checked:c>0&&r===c,onChange:a,inputProps:{"aria-label":"select all desserts"}})}),Nt.map((function(e){return Object(W.jsx)(ot.a,{className:t.headCell,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:i===e.id&&n,children:Object(W.jsxs)(dt.a,{className:t.sortlabel,active:i===e.id,direction:i===e.id?n:"asc",onClick:(a=e.id,function(e){o(e,a)}),children:[e.label,i===e.id?Object(W.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var a})),Object(W.jsx)(ot.a,{className:t.headCell})]})})}var Ct=Object(G.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(it.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),St=function(e){var t=Ct(),a=e.rootClasses,n=e.numSelected,i=e.search,r=e.setSearch,c=e.handleDelete,o=e.setPage,s=e.authority;return Object(W.jsxs)($.a,{className:(Object(H.a)(t.root,Object(M.a)({},t.highlight,n>0)),a.toolbar),children:[n>0?Object(W.jsxs)(X.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(W.jsx)(X.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Students"}),Object(W.jsx)(lt.a,{value:i,name:"search bar",placeholder:"id or name",onChange:function(e){!function(e){r(e.target.value),o(0)}(e)}}),n>0?Object(W.jsx)(ut.a,{title:"Delete",placement:"bottom",children:Object(W.jsx)("span",{children:Object(W.jsx)(V.a,{"aria-label":"delete",onClick:function(){return c()},disabled:1!==s,children:Object(W.jsx)(ft.a,{})})})}):Object(W.jsx)(W.Fragment,{})]})},It=Object(G.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},container:{maxHeight:440},toolbar:{minHeight:"50px"},table:{minWidth:500,padding:0},sortlabel:{margin:0},headCell:{},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},tablecell:{padding:0},checkbox:{padding:"5px"},icon:{padding:0},copy:{borderRadius:"10px",backgroundColor:"#424242",color:"#ffffff",boxShadow:"0px 0px 0px 0px rgba(0,0,0,0.3)"}}}));function Dt(e){var t=e.data,a=e.handleEdit,n=e.handleDelete,r=e.selected,c=e.setSelected,o=e.showAlert,s=e.authority,d=It(),l=i.a.useState("asc"),u=Object(z.a)(l,2),j=u[0],b=u[1],h=i.a.useState("calories"),p=Object(z.a)(h,2),m=p[0],f=p[1],O=i.a.useState(0),x=Object(z.a)(O,2),g=x[0],v=x[1],y=i.a.useState(100),w=Object(z.a)(y,2),N=w[0],k=w[1],C=i.a.useState(""),S=Object(z.a)(C,2),I=S[0],D=S[1],P=function(e){return!I||(e.teamName.toUpperCase().startsWith(I.toUpperCase())||e.id.toUpperCase().startsWith(I.toUpperCase()))};return Object(W.jsx)("div",{className:d.root,children:Object(W.jsxs)(Oe.a,{className:d.paper,children:[Object(W.jsx)(St,{rootClasses:d,numSelected:r.length,search:I,setSearch:D,setPage:v,handleDelete:function(){n(r)},authority:s}),Object(W.jsx)(jt.a,{className:d.container,children:Object(W.jsxs)(bt.a,{stickyHeader:!0,className:d.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",children:[Object(W.jsx)(kt,{classes:d,numSelectedInPage:t.filter((function(e){return P(e)})).map((function(e){return e.id})).filter((function(e){return r.includes(e)})).length,order:j,orderBy:m,onSelectAllClick:function(e){if(e.target.checked){var a=t.filter((function(e){return P(e)})).map((function(e){return e.id})),n=a.filter((function(e){return!r.includes(e)}));0===n.length?c(r.filter((function(e){return!a.includes(e)}))):c(r.concat(n))}else c([])},onRequestSort:function(e,t){b(m===t&&"asc"===j?"desc":"asc"),f(t)},rowCount:t.filter((function(e){return P(e)})).length}),Object(W.jsx)(ht.a,{children:wt(t,yt(j,m)).filter((function(e){return P(e)})).slice(g*N,g*N+N).map((function(e,t){var i,l=(i=e.id,-1!==r.indexOf(i)),u="enhanced-table-checkbox-".concat(t);return Object(W.jsxs)(ct.a,{hover:!0,role:"checkbox","aria-checked":l,tabIndex:-1,selected:l,children:[Object(W.jsx)(ot.a,{className:d.tablecell,children:Object(W.jsx)(st.a,{onClick:function(t){return function(e,t){var a=r.indexOf(t),n=[];-1===a?n=n.concat(r,t):0===a?n=n.concat(r.slice(1)):a===r.length-1?n=n.concat(r.slice(0,-1)):a>0&&(n=n.concat(r.slice(0,a),r.slice(a+1))),c(n)}(0,e.id)},checked:l,inputProps:{"aria-labelledby":u},className:d.checkbox})}),Object(W.jsx)(ot.a,{align:Nt[0].numeric?"right":"left",padding:Nt[0].disablePadding?"none":"default",component:"th",id:e.id,scope:"row",className:d.tablecell,children:e.id},Nt[0].id),Object(W.jsx)(ot.a,{align:Nt[1].numeric?"right":"left",padding:Nt[1].disablePadding?"none":"default",className:d.tablecell,children:e.teamName},Nt[1].id),Object(W.jsx)(ot.a,{align:Nt[2].numeric?"right":"left",padding:Nt[2].disablePadding?"none":"default",className:d.tablecell,children:e.authority},Nt[2].id),Object(W.jsx)(ot.a,{align:Nt[3].numeric?"right":"left",padding:Nt[3].disablePadding?"none":"default",className:d.tablecell,children:e.password?Object(W.jsx)(gt.CopyToClipboard,{text:e.password,children:Object(W.jsx)("button",{type:"button",className:d.copy,onClick:function(){o("info","Copy password.")},children:e.password})}):Object(W.jsx)(W.Fragment,{})},Nt[3].id),Object(W.jsxs)(ot.a,{className:d.tablecell,children:[Object(W.jsx)(V.a,{onClick:function(){return a(e.id)},className:d.icon,disabled:0!==r.length||1!==s,children:Object(W.jsx)(xt.a,{})}),Object(W.jsx)(V.a,{onClick:function(){return n([e.id])},className:d.icon,disabled:0!==r.length||1!==s,children:Object(W.jsx)(ft.a,{})})]})]},e.id)}))})]})}),Object(W.jsx)(pt.a,{rowsPerPageOptions:[50,100,200,400],component:"div",count:t.filter((function(e){return P(e)})).length,rowsPerPage:N,page:g,onPageChange:function(e,t){v(t)},onRowsPerPageChange:function(e){k(parseInt(e.target.value,10)),v(0)}})]})})}var Pt="ABCDEFGHIJKLMNPQRSTUVWXYZabcdefghijklmnpqrstuvwxyz123456789",Bt=Pt.length,Tt=function(){for(var e="",t=0;t<8;t+=1)e+=Pt.charAt(Math.floor(Math.random()*Bt));return e},At=["0","1"],Lt=Object(G.a)((function(){return{root:{display:"flex",flexWrap:"wrap",maxWidth:"1000px",padding:"0px","& > *":{margin:"auto"}},input:{display:"none"}}}));function Wt(){var e=Lt(),t=i.a.useState([]),a=Object(z.a)(t,2),r=a[0],c=a[1],s=i.a.useState(!1),d=Object(z.a)(s,2),l=d[0],b=d[1],h=i.a.useState(""),p=Object(z.a)(h,2),m=p[0],f=p[1],O=i.a.useState(!1),x=Object(z.a)(O,2),g=x[0],v=x[1],y=i.a.useState(!1),I=Object(z.a)(y,2),D=I[0],P=I[1],B=i.a.useState(!1),T=Object(z.a)(B,2),L=T[0],E=T[1],F=i.a.useState(""),U=Object(z.a)(F,2),M=U[0],H=U[1],G=i.a.useState(""),q=Object(z.a)(G,2),J=q[0],Y=q[1],$=i.a.useState([]),V=Object(z.a)($,2),K=V[0],Q=V[1],Z=i.a.useState(!1),_=Object(z.a)(Z,2),ee=_[0],te=_[1],ae=i.a.useState([]),ne=Object(z.a)(ae,2),ie=ne[0],re=ne[1],ce=i.a.useState(!1),oe=Object(z.a)(ce,2),se=oe[0],de=oe[1],le=i.a.useState(!1),ue=Object(z.a)(le,2),je=ue[0],be=ue[1],he=i.a.useState(!1),pe=Object(z.a)(he,2),me=pe[0],Oe=pe[1],ge=i.a.useState(!1),ve=Object(z.a)(ge,2),ye=ve[0],we=ve[1],Ne=i.a.useState({}),ke=Object(z.a)(Ne,2),Ce=ke[0],Se=ke[1],Ie=i.a.useState({id:!1,teamName:!1,authority:!1}),De=Object(z.a)(Ie,2),Pe=De[0],Te=De[1],Ae=i.a.useState({id:"",teamName:"",authority:""}),Le=Object(z.a)(Ae,2),We=Le[0],Ee=Le[1],Fe=i.a.useState({id:"",teamName:"",authority:""}),Ue=Object(z.a)(Fe,2),ze=Ue[0],Re=Ue[1],Me=i.a.useState({id:"",teamName:"",authority:""}),He=Object(z.a)(Me,2),Ge=He[0],qe=He[1],at=Object(o.c)(A).authority,it=function(e,t){Se({open:!0,severity:e,msg:t})},rt=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=c,e.next=4,w();case 4:e.t1=e.sent.data,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),it("error","Failed to load student data.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){rt()}),[]);var ct=function(){E(!1)},ot=function(){qe({id:"",teamName:"",authority:""}),Te({id:!1,teamName:!1,authority:!1}),Ee({id:"",teamName:"",authority:""}),P(!1)},st=function(){Y(""),qe({id:"",teamName:"",authority:""}),Te({id:!1,teamName:!1,authority:!1}),Ee({id:"",teamName:"",authority:""}),P(!1)},dt=function(){te(!1)},lt=function(){be(!1)},ut=function(){Oe(!1)},jt=function(e){return r.map((function(e){return e.id.toUpperCase()})).includes(e.toUpperCase())},bt=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&nt.a.parse(t,{skipEmptyLines:!0,complete:function(e){var a=!0,n=!1;if(e.data.slice(1).forEach((function(e){e[1]||(a=!1),jt(e[0])&&(n=!0)})),a&&!n){var i=e.data.slice(1).reduce((function(e,t){return e.concat([{id:t[0].toUpperCase(),teamName:t[1],authority:0}])}),[]);return Re(i),b(!0),void f(t.name)}a||n||it("error","Invalid student data format."),a&&n&&it("error","Student UserId repeat."),!a&&n&&it("error","Invalid student data format & Student UserId repeat."),Re({id:"",teamName:"",authority:""}),b(!1),f("")}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){var t,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=18;break}return t=ze.map((function(e){var t=Tt();return Object(R.a)(Object(R.a)({},e),{},{password:t})})),e.prev=2,e.next=5,N(t.map((function(e){return{teamID:e.id,password:e.password,teamName:e.teamName,authority:Number(e.authority)}})));case 5:v(!0),c(r.concat(t)),Re({id:"",teamName:"",authority:""}),b(!1),a=[],t.forEach((function(e){a.push({teamID:e.id,teamName:e.teamName,password:e.password})})),H(nt.a.unparse(a)),it("success","Add multiple student data complete."),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),it("error","Failed to Add multiple student data.");case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),pt=function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(t))),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},mt=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){var t,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=r.map((function(e){if(K.includes(e.id)){var a=Tt(),n=e;return n.password=a,t.push({teamID:e.id,new_password:a}),n}return e})),e.prev=2,e.next=5,S(t);case 5:it("success","Generate password complete."),c(a),lt(),Q([]),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),it("error","Failed to regenerate password."),lt();case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=!1,t=Pe,a=We;return Ge.id?""===J&&jt(Ge.id)?(t=Object(R.a)(Object(R.a)({},t),{},{id:!0}),a=Object(R.a)(Object(R.a)({},a),{},{id:"repeat userId"}),e=!0):(t=Object(R.a)(Object(R.a)({},t),{},{id:!1}),a=Object(R.a)(Object(R.a)({},a),{},{id:""})):(t=Object(R.a)(Object(R.a)({},t),{},{id:!0}),a=Object(R.a)(Object(R.a)({},a),{},{id:"id should not be empty"}),e=!0),Ge.teamName?(t=Object(R.a)(Object(R.a)({},t),{},{teamName:!1}),a=Object(R.a)(Object(R.a)({},a),{},{teamName:""})):(t=Object(R.a)(Object(R.a)({},t),{},{teamName:!0}),a=Object(R.a)(Object(R.a)({},a),{},{teamName:"teamName should not be empty"}),e=!0),/^[012]$/.test(Ge.authority)?(t=Object(R.a)(Object(R.a)({},t),{},{authority:!1}),a=Object(R.a)(Object(R.a)({},a),{},{authority:""})):(t=Object(R.a)(Object(R.a)({},t),{},{authority:!0}),a=Object(R.a)(Object(R.a)({},a),{},{authority:"authority should be a 0, 1"}),e=!0),Te(t),Ee(a),e},Ot=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ft()){e.next=16;break}return t=Tt(),e.prev=3,e.next=6,N([{teamID:Ge.id,password:t,teamName:Ge.teamName,authority:Number(Ge.authority)}]);case 6:c(r.concat(Object(R.a)(Object(R.a)({},Ge),{},{id:Ge.id.toUpperCase(),password:t,authority:Number(Ge.authority)}))),qe({id:"",teamName:"",authority:""}),ot(),it("success","Add student data success."),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),ot(),it("error","Failed to Add student data.");case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),xt=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ft()){e.next=15;break}return e.prev=2,e.next=5,C([{teamID:Ge.id,teamName:Ge.teamName,authority:Number(Ge.authority)}]);case 5:c(r.map((function(e){return e.id===Ge.id?{id:Ge.id,teamName:Ge.teamName,authority:Number(Ge.authority)}:e}))),qe({id:"",teamName:"",authority:""}),st(),it("success","Edit student data success."),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),st(),it("error","Failed to Edit student data.");case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),gt=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(ie);case 3:c(r.filter((function(e){return!ie.includes(e.id)}))),re([]),Q([]),dt(),it("success","delete student data success."),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),it("error","Failed to delete student data."),dt();case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(Be.a,{className:e.root,children:[Object(W.jsxs)(Je.a,{"aria-labelledby":"simple-dialog-title",disableBackdropClick:!0,open:D,onClose:ot,children:[""===J?Object(W.jsx)(Ye.a,{id:"simple-dialog-title",children:"Add Single Student"}):Object(W.jsx)(Ye.a,{id:"simple-dialog-title",children:"Edit Single Student"}),Object(W.jsxs)($e.a,{children:[Object(W.jsx)(Ve.a,{id:"teamID",label:"teamID",type:"text",fullWidth:!0,value:Ge.id,error:Pe.id,onChange:function(e){qe(Object(R.a)(Object(R.a)({},Ge),{},{id:e.target.value}))},helperText:We.id,disabled:""!==J}),Object(W.jsx)(Ve.a,{id:"teamName",label:"teamName",type:"text",fullWidth:!0,value:Ge.teamName,error:Pe.teamName,onChange:function(e){qe(Object(R.a)(Object(R.a)({},Ge),{},{teamName:e.target.value}))},helperText:We.teamName}),Object(W.jsxs)(Xe.a,{fullWidth:!0,children:[Object(W.jsx)(Ke.a,{children:"authority"}),Object(W.jsx)(Qe.a,{fullWidth:!0,value:Ge.authority,error:Pe.authority,onChange:function(e){qe(Object(R.a)(Object(R.a)({},Ge),{},{authority:e.target.value}))},children:At.map((function(e){return Object(W.jsx)(Ze.a,{value:e,children:e},e)}))})]})]}),Object(W.jsxs)(_e.a,{children:[Object(W.jsx)(xe.a,{onClick:""===J?ot:st,children:"Cancel"}),Object(W.jsx)(xe.a,{onClick:""===J?Ot:xt,variant:"contained",color:"primary",children:""===J?"Add":"Edit"})]})]}),Object(W.jsxs)(Je.a,{"aria-labelledby":"simple-dialog-title",disableBackdropClick:!0,open:ee,onClose:dt,children:[se?Object(W.jsx)(Ye.a,{id:"simple-dialog-title",children:"Students with authority 1 are invalid to delete"}):Object(W.jsxs)(Ye.a,{id:"simple-dialog-title",children:["Are you sure to delete ",ie.length," students?"]}),Object(W.jsx)($e.a,{children:se?r.filter((function(e){return K.includes(e.id)})).filter((function(e){return 1===e.authority})).map((function(e){return Object(W.jsx)(X.a,{children:"id: ".concat(e.id,", \n              teamName: ").concat(e.teamName,",\n              authority: ").concat(e.authority)},e.id)})):r.filter((function(e){return ie.includes(e.id)})).map((function(e){return e.id})).map((function(e){return Object(W.jsx)(X.a,{children:"id: ".concat(r.find((function(t){return t.id===e})).id,", \n              teamName: ").concat(r.find((function(t){return t.id===e})).teamName,",\n              authority: ").concat(r.find((function(t){return t.id===e})).authority)},e)}))}),Object(W.jsx)(_e.a,{children:se?Object(W.jsx)(xe.a,{onClick:dt,children:"Done"}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(xe.a,{onClick:dt,children:"Cancel"}),Object(W.jsx)(xe.a,{onClick:gt,variant:"contained",color:"primary",children:"Delete"})]})})]}),Object(W.jsxs)(Je.a,{"aria-labelledby":"simple-dialog-title",disableBackdropClick:!0,open:L,onClose:ct,children:[g?Object(W.jsx)(Ye.a,{id:"simple-dialog-title",children:"Upload Completed"}):Object(W.jsx)(Ye.a,{id:"simple-dialog-title",children:"Add multiple students from csv file"}),Object(W.jsxs)($e.a,{children:[g?Object(W.jsx)(xe.a,{variant:"contained",color:"primary",component:"span",onClick:function(){pt("datas.csv",M)},children:"Download password"}):Object(W.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(W.jsx)("input",{accept:".csv",className:e.input,id:"contained-button-file",type:"file",onChange:function(e){return bt(e.target.files[0])}}),Object(W.jsx)(xe.a,{variant:"outlined",color:"primary",component:"span",children:"Select csv file"})]}),l&&!g?m:""]}),Object(W.jsx)(_e.a,{children:g?Object(W.jsx)(xe.a,{onClick:ct,variant:"contained",color:"primary",children:"Finish"}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(xe.a,{onClick:ct,children:"Cancel"}),l?Object(W.jsx)(xe.a,{onClick:ht,variant:"contained",color:"primary",children:"Upload"}):Object(W.jsx)(W.Fragment,{children:" "})]})})]}),Object(W.jsxs)(Je.a,{"aria-labelledby":"simple-dialog-title",disableBackdropClick:!0,open:je,onClose:lt,children:[ye?Object(W.jsx)(Ye.a,{id:"simple-dialog-title",children:"These student are invalid to regenerate password:"}):Object(W.jsxs)(Ye.a,{id:"simple-dialog-title",children:["Are you sure to Regenerate password of ",K.length," students?"]}),Object(W.jsx)($e.a,{children:ye?r.filter((function(e){return K.includes(e.id)})).filter((function(e){return 1===e.authority})).map((function(e){return Object(W.jsx)(X.a,{children:"id: ".concat(e.id,", \n              teamName: ").concat(e.teamName,",\n              authority: ").concat(e.authority)},e.id)})):r.filter((function(e){return K.includes(e.id)})).map((function(e){return e.id})).map((function(e){return Object(W.jsx)(X.a,{children:"id: ".concat(r.find((function(t){return t.id===e})).id,", \n              teamName: ").concat(r.find((function(t){return t.id===e})).teamName,",\n              authority: ").concat(r.find((function(t){return t.id===e})).authority)},e)}))}),Object(W.jsx)(_e.a,{children:ye?Object(W.jsx)(xe.a,{onClick:lt,variant:"contained",color:"primary",children:"Close"}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(xe.a,{onClick:lt,children:"Cancel"}),Object(W.jsx)(xe.a,{onClick:mt,variant:"contained",color:"primary",children:"Regenerate"})]})})]}),Object(W.jsxs)(Je.a,{"aria-labelledby":"simple-dialog-title",disableBackdropClick:!0,open:me,onClose:ut,children:[Object(W.jsx)(Ye.a,{id:"simple-dialog-title",children:"These student are invalid to download password"}),Object(W.jsx)($e.a,{children:r.filter((function(e){return K.includes(e.id)})).filter((function(e){return!e.password})).map((function(e){return Object(W.jsx)(X.a,{children:"id: ".concat(e.id,", \n              teamName: ").concat(e.teamName,",\n              authority: ").concat(e.authority)},e.id)}))}),Object(W.jsx)(_e.a,{children:Object(W.jsx)(xe.a,{onClick:ut,variant:"contained",color:"primary",children:"Close"})})]}),Object(W.jsxs)(fe.a,{container:!0,spacing:1,justify:"center",alignItems:"flex-start",direction:"row",children:[Object(W.jsx)(fe.a,{item:!0,sm:12,children:Object(W.jsxs)(fe.a,{container:!0,spacing:1,justify:"flex-start",alignItems:"flex-start",direction:"row",children:[Object(W.jsx)(fe.a,{item:!0,children:Object(W.jsx)(xe.a,{variant:"contained",color:"primary",onClick:function(){qe({id:"",teamName:"",authority:""}),Te({id:!1,teamName:!1,authority:!1}),Ee({id:"",teamName:"",authority:""}),P(!0)},disabled:1!==at,children:"Add Single Student"})}),Object(W.jsx)(fe.a,{item:!0,children:Object(W.jsx)(xe.a,{variant:"contained",color:"primary",onClick:function(){v(!1),E(!0),Re({id:"",teamName:"",authority:""}),b(!1),f("")},disabled:1!==at,children:"Add Students (csv)"})}),Object(W.jsx)(fe.a,{item:!0,children:Object(W.jsx)(xe.a,{variant:"outlined",color:"primary",onClick:function(){if(0===r.filter((function(e){return K.includes(e.id)})).filter((function(e){return!e.password})).length){var e=[];r.slice(1).filter((function(e){return K.includes(e.id)})).forEach((function(t){e.push({teamID:t.id,teamName:t.teamName,password:t.password})})),pt("datas.csv",nt.a.unparse(e))}else Oe(!0)},disabled:0===K.length||1!==at,children:"Download Password"})}),Object(W.jsx)(fe.a,{item:!0,children:Object(W.jsx)(xe.a,{variant:"contained",color:"primary",onClick:function(){0!==r.filter((function(e){return K.includes(e.id)})).filter((function(e){return 1===e.authority})).length?we(!0):we(!1),be(!0)},disabled:0===K.length||1!==at,children:"Generate Password"})})]})}),Object(W.jsx)(fe.a,{item:!0,sm:12,children:Object(W.jsx)(Dt,{data:r,handleEdit:function(e){Y(e);var t=r.find((function(t){return t.id===e}));qe({id:t.id,teamName:t.teamName,authority:String(t.authority)}),Te({id:!1,teamName:!1,authority:!1}),Ee({id:"",teamName:"",authority:""}),P(!0)},handleDelete:function(e){0!==r.filter((function(t){return e.includes(t.id)})).filter((function(e){return 1===e.authority})).length?de(!0):(de(!1),re(e)),te(!0)},selected:K,setSelected:Q,showAlert:it,authority:at})})]}),Object(W.jsx)(et.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:null===Ce||void 0===Ce?void 0:Ce.open,autoHideDuration:5e3,onClose:function(){return Se(Object(R.a)(Object(R.a)({},Ce),{},{open:!1}))},children:Object(W.jsx)(tt.a,{variant:"filled",severity:null===Ce||void 0===Ce?void 0:Ce.severity,children:null===Ce||void 0===Ce?void 0:Ce.msg})})]})}var Et=a(171),Ft=Object(Et.a)({typography:{fontFamily:["Ubuntu Condensed","sans-serif"].join(","),fontSize:15},palette:{mode:"dark",primary:{light:"#0066ff",main:"#0044ff",contrastText:"#ffcc00"},secondary:{main:"#b2dfdb",light:"#c1e5e2",contrastText:"#000"},background:{paper:"rgba(0, 0, 0, 0.1)"}},breakpoints:{values:{xs:0,sm:600,phone:700,md:960,lg:1280,xl:1920}},overrides:{MuiCssBaseline:{"@global":{body:{background:"linear-gradient(170deg, #192231 70%, #B6A19E 10%)",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}}}}),Ut=a(334),zt=Object(G.a)({root:{justifyContent:"center",minHeight:"100vh"},progress:{marginTop:"30vh"}}),Rt=function(){var e=zt();return Object(W.jsxs)(Be.a,{component:"div",maxWidth:"lg",children:[Object(W.jsx)(J.a,{}),Object(W.jsx)(fe.a,{container:!0,className:e.root,children:Object(W.jsx)(fe.a,{item:!0,className:e.progress,children:Object(W.jsx)(Ut.a,{})})})]})},Mt=function(){var e=Object(o.b)();return Object(n.useEffect)((function(){e(function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:200===(a=e.sent).status&&(t(P(a.data)),t(T())),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(T());case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(o.c)(A).initialized?Object(W.jsxs)(s.d,{children:[Object(W.jsx)(U,{exact:!0,path:"/",children:Object(W.jsx)(Pe,{})}),Object(W.jsx)(F,{exact:!0,path:"/login",children:Object(W.jsx)(qe,{})}),Object(W.jsx)(E,{exact:!0,path:"/studentdata",children:Object(W.jsx)(Wt,{})}),Object(W.jsx)(s.a,{to:"/login"})]}):Object(W.jsx)(Rt,{})};function Ht(){return Object(W.jsx)("div",{children:Object(W.jsx)(l.a,{theme:Ft,children:Object(W.jsx)(d.a,{children:Object(W.jsx)(pe,{children:Object(W.jsx)(Mt,{})})})})})}var Gt=Object(b.a)({reducer:{session:L}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(W.jsx)(i.a.StrictMode,{children:Object(W.jsx)(o.a,{store:Gt,children:Object(W.jsx)(Ht,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[240,1,2]]]);
//# sourceMappingURL=main.06a687a3.chunk.js.map