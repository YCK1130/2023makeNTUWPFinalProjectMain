{"version":3,"sources":["api/index.js","slices/sessionSlice.js","components/routes/privateRoute.js","components/routes/loginRoute.js","components/routes/mainRoute.js","containers/drawer/index.js","containers/main/TopSection.js","containers/main/Footer.js","containers/main/index.js","containers/login/index.js","containers/studentData/StudentTable.js","containers/studentData/index.js","theme.js","components/loading.js","App.js","store/index.js","serviceWorker.js","index.js"],"names":["errorHandling","error","response","status","window","location","replace","SessionAPI","axios","get","teamID","password","post","qs","stringify","headers","delete","StudentDataAPI","params","teamName","authority","catch","teams","ids","data","team","put","PasswordAPI","passwords","sessionSlice","createSlice","name","initialState","initialized","isLogin","reducers","setLogin","state","action","payload","userID","setLogout","setInitialized","actions","selectSession","session","PrivateRoute","children","path","useSelector","render","to","LoginRoute","MainRoute","exact","drawerWidth","useStyles","makeStyles","theme","drawer","width","flexShrink","whiteSpace","root","appBar","paddingTop","spacing","color","boxShadow","backgroundColor","zIndex","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","breakpoints","up","marginLeft","enteringScreen","hide","display","appBarTypography","flexGrow","drawerOpen","drawerClose","overflowX","overflowY","menuButton","marginRight","iconButton","toolbar","marginTop","alignItems","justifyContent","padding","mixins","content","contentShift","easeOut","offset","Drawer","history","useHistory","classes","useTheme","useState","open","setOpen","dispatch","useDispatch","handleDrawerClose","itemList","text","icon","userName","className","CssBaseline","AppBar","clsx","position","Toolbar","IconButton","onClick","edge","Typography","variant","style","cursor","push","anchor","innerWidth","paper","direction","List","map","ListItem","button","component","Link","ListItemIcon","ListItemText","primary","Top","height","overflow","background","margin","textAlign","time","fontWeight","Grid","container","maxWidth","maxHeight","Paper","item","gutterBottom","opacity","textDecoration","marginBottom","Button","FooterContainer","styled","div","Text","h1","Members","Footer","Main","Copyright","align","Date","getFullYear","flexDirection","borderRadius","avatar","palette","secondary","main","form","submit","accountmargin","Login","React","account","showPassword","values","setValues","handleChange","prop","event","target","value","handleSubmit","e","preventDefault","test","console","Container","Avatar","fontSize","noValidate","onSubmit","OutlinedInput","required","fullWidth","id","placeholder","autoComplete","onChange","autoFocus","type","endAdornment","InputAdornment","onMouseDown","Box","descendingComparator","a","b","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","el","index","sort","headCells","numeric","disablePadding","label","EnhancedTableHead","props","onSelectAllClick","numSelectedInPage","rowCount","onRequestSort","TableHead","head","TableRow","TableCell","headCell","Checkbox","indeterminate","checked","inputProps","sortDirection","TableSortLabel","sortlabel","active","property","visuallyHidden","useToolbarStyles","paddingLeft","paddingRight","highlight","lighten","light","dark","title","flex","EnhancedTableToolbar","rootClasses","numSelected","search","setSearch","handleDelete","setPage","Input","handleSearch","Tooltip","placement","disabled","minHeight","table","minWidth","border","clip","top","tablecell","checkbox","copy","StudentTable","handleEdit","selected","setSelected","showAlert","setOrder","setOrderBy","page","rowsPerPage","setRowsPerPage","studentFilter","toUpperCase","startsWith","length","TableContainer","Table","stickyHeader","filter","n","includes","nowSelecteds","newSelecteds","concat","TableBody","slice","row","isItemSelected","indexOf","labelId","hover","role","tabIndex","selectedIndex","newSelected","handleClick","scope","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","characters","charactersLength","genPassword","result","i","charAt","Math","floor","random","authorityData","flexWrap","input","StudentData","setData","loaded","setLoaded","filename","setFilename","uploaded","setUploaded","addOpen","setAddOpen","addMultipleOpen","setAddMultipleOpen","csv","setCsv","editId","setEditId","deleteOpen","setDeleteOpen","deleteIds","setDeleteIds","invalidDelete","setInvalidDelete","regenerateOpen","setRegenerateOpen","downloadOpen","setDownloadOpen","invalidRegenerate","setInvalidRegenerate","alert","setAlert","errors","setErrors","errorsMsg","setErrorsMsg","newStudentMultiple","setNewStudentMultiple","newStudent","setNewStudent","severity","msg","handleStudentDataReload","useEffect","handleCloseAddMultiple","handleCloseAdd","handleCloseEdit","handleCloseDelete","handleCloseRegenerate","handleCloseDownload","testRepeatId","handleUploadCsv","efile","Papa","parse","skipEmptyLines","complete","results","valid","repeat","forEach","student","newData","reduce","obj","cur","handleAddMultipleStudents","Number","csvData","unparse","download","element","document","createElement","setAttribute","encodeURIComponent","body","appendChild","click","removeChild","handleGeneratePassword","updateData","new_password","judgeNewStudent","newErrors","newErrorsMsg","handleAddStudent","handleEditStudent","handleDeleteStudent","Dialog","disableBackdropClick","onClose","DialogTitle","DialogContent","TextField","helperText","FormControl","InputLabel","Select","MenuItem","DialogActions","find","htmlFor","accept","files","justify","sm","String","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Alert","createTheme","typography","fontFamily","join","mode","contrastText","xs","phone","md","lg","xl","overrides","MuiCssBaseline","backgroundRepeat","backgroundAttachment","progress","Loading","CircularProgress","Routes","App","ThemeProvider","configureStore","reducer","sessionReducer","Boolean","hostname","match","ReactDOM","StrictMode","store","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.06a687a3.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport qs from \"qs\";\r\n\r\nconst errorHandling = (error) => {\r\n  if (error.response.status === 403) window.location.replace(\"/\");\r\n};\r\n\r\nexport const SessionAPI = {\r\n  getSession: () => axios.get(`/api/session`),\r\n  postSession: (teamID, password) =>\r\n    axios.post(\r\n      `/api/session`,\r\n      qs.stringify({\r\n        teamID,\r\n        password,\r\n      }),\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        },\r\n      }\r\n    ),\r\n  deleteSession: () => axios.delete(`/api/session`),\r\n};\r\n\r\nexport const StudentDataAPI = {\r\n  getStudentData: () =>\r\n    axios\r\n      .get(`/api/users`, {\r\n        params: {\r\n          teamName: 1,\r\n          authority: 1,\r\n        },\r\n      })\r\n      .catch((error) => errorHandling(error)),\r\n  postStudentData: (teams) =>\r\n    axios.post(`/api/users`, teams).catch((error) => errorHandling(error)),\r\n  deleteStudentData: (ids) =>\r\n    axios\r\n      .delete(`/api/users`, { data: [...ids] })\r\n      .catch((error) => errorHandling(error)),\r\n  putStudentData: (team) =>\r\n    axios.put(`/api/users`, team).catch((error) => errorHandling(error)),\r\n};\r\n\r\nexport const PasswordAPI = {\r\n  putPassword: (passwords) =>\r\n    axios\r\n      .put(`/api/password`, passwords)\r\n      .catch((error) => errorHandling(error)),\r\n};\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { SessionAPI } from \"../api\";\r\n\r\nexport const sessionSlice = createSlice({\r\n  name: \"session\",\r\n  initialState: {\r\n    initialized: false,\r\n    isLogin: false,\r\n    authority: null,\r\n    teamID: null,\r\n  },\r\n  reducers: {\r\n    //login\r\n    setLogin: (state, action) => {\r\n      state.isLogin = true;\r\n      state.authority = action.payload.authority;\r\n      state.userID = action.payload.teamID;\r\n    },\r\n    setLogout: (state) => {\r\n      state.isLogin = false;\r\n      state.authority = null;\r\n      state.userID = null;\r\n    },\r\n    //initialize\r\n    setInitialized: (state) => {\r\n      state.initialized = true;\r\n    },\r\n  },\r\n});\r\n\r\n//check whether isLogin is true(session.status==\"200\") first\r\nexport const init = () => async (dispatch) => {\r\n  try {\r\n    const session = await SessionAPI.getSession();\r\n    if (session.status === 200) {\r\n      dispatch(setLogin(session.data));\r\n      dispatch(setInitialized());\r\n    }\r\n  } catch (err) {\r\n    dispatch(setInitialized());\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const session = await SessionAPI.deleteSession();\r\n  dispatch(setLogout());\r\n};\r\n\r\nexport const { setLogin, setLogout, setInitialized } = sessionSlice.actions;\r\n\r\nexport const selectSession = (state) => state.session;\r\n\r\nexport default sessionSlice.reducer;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n// slices\r\nimport { selectSession } from \"../../slices/sessionSlice\";\r\n\r\n// for admin \r\nexport default function PrivateRoute({ children, path }) {\r\n  const { isLogin, authority } = useSelector(selectSession);\r\n  return (\r\n    <Route\r\n      path={path}\r\n      render={() => {\r\n        if (!isLogin) return <Redirect to=\"/login\" />;\r\n        if (authority === 0 )\r\n          return <Redirect to=\"/\" />;\r\n        return children;\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n// slices\r\nimport { selectSession } from \"../../slices/sessionSlice\";\r\n\r\nexport default function LoginRoute({ children, path }) {\r\n  const { isLogin } = useSelector(selectSession);\r\n  return (\r\n    <Route\r\n      path={path}\r\n      render={() => {\r\n        return isLogin ? <Redirect to=\"/\" /> : children;\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nexport default function MainRoute({ children, path }) {\r\n  return (\r\n    <Route\r\n      exact\r\n      path={path}\r\n      render={() => {\r\n        return children;\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport clsx from \"clsx\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n// material_ui\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport {\r\n  CssBaseline,\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  Drawer as MUIDrawer,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  IconButton,\r\n} from \"@mui/material/\";\r\nimport MenuIcon from \"@mui/icons-material/Menu\";\r\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\r\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\r\nimport KeyboardArrowUpIcon from \"@mui/icons-material/KeyboardArrowUp\";\r\nimport HomeIcon from \"@mui/icons-material/Home\"; // Main\r\nimport ExitToAppIcon from \"@mui/icons-material/ExitToApp\"; // Login, Logout\r\nimport PeopleIcon from \"@mui/icons-material/People\"; // Student Data\r\n\r\nimport { Redirect } from \"react-router\";\r\nimport { selectSession, logout } from \"../../slices/sessionSlice\";\r\n// route\r\n\r\nconst drawerWidth = 200;\r\nconst maxPhoneWidth = 700;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    whiteSpace: \"nowrap\",\r\n  },\r\n  root: {\r\n    //  display: \"flex\",\r\n  },\r\n  appBar: {\r\n    paddingTop: theme.spacing(1),\r\n    color: \"#fff\",\r\n    boxShadow: \"none\",\r\n    backgroundColor: \"rgb(25,34,49,.7)\",\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    [theme.breakpoints.up(\"phone\")]: {\r\n      marginLeft: drawerWidth,\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      transition: theme.transitions.create([\"width\", \"margin\"], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  appBarTypography: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerOpen: {\r\n    [theme.breakpoints.up(\"phone\")]: {\r\n      width: drawerWidth,\r\n      transition: theme.transitions.create(\"width\", {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n  },\r\n  drawerClose: {\r\n    overflowX: \"hidden\",\r\n    overflowY: \"hidden\",\r\n    width: theme.spacing(0),\r\n    [theme.breakpoints.up(\"phone\")]: {\r\n      width: theme.spacing(0) + 1,\r\n      transition: theme.transitions.create(\"width\", {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n  },\r\n  menuButton: {\r\n    marginRight: 10,\r\n  },\r\n  iconButton: {\r\n    marginRight: 0,\r\n  },\r\n  toolbar: {\r\n    marginTop: theme.spacing(1),\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: theme.spacing(0, 0),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    [theme.breakpoints.up(\"phone\")]: {\r\n      transition: theme.transitions.create(\"margin\", {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n    marginLeft: 0,\r\n  },\r\n  contentShift: {\r\n    [theme.breakpoints.up(\"phone\")]: {\r\n      transition: theme.transitions.create(\"margin\", {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n      marginLeft: drawerWidth,\r\n    },\r\n  },\r\n  offset: theme.mixins.toolbar,\r\n}));\r\n\r\nconst Drawer = ({ children }) => {\r\n  const { isLogin, authority, userID } = useSelector(selectSession);\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const itemList = !isLogin\r\n    ? [\r\n        { text: \"Main\", to: \"/\", icon: <HomeIcon /> },\r\n        { text: \"Login\", to: \"/login\", icon: <ExitToAppIcon /> },\r\n      ]\r\n    : {\r\n        1: [\r\n          { text: \"Main\", to: \"/\", icon: <HomeIcon /> },\r\n          {\r\n            text: \"Student Data\",\r\n            to: \"/studentdata\",\r\n            icon: <PeopleIcon />,\r\n          },\r\n        ],\r\n      }[authority] || [{ text: \"Main\", to: \"/\", icon: <HomeIcon /> }];\r\n\r\n  const userName = isLogin ? userID : \"\";\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}\r\n        position=\"fixed\"\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, {\r\n              [classes.hide]: open,\r\n            })}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          {/* <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"close drawer\"\r\n            onClick={handleDrawerClose}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, {\r\n              [classes.hide]: !open || window.innerWidth >= maxPhoneWidth,\r\n            })}\r\n          >\r\n            <KeyboardArrowUpIcon />\r\n          </IconButton> */}\r\n          <Typography variant=\"h5\" className={classes.appBarTypography}>\r\n            <div\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => history.push(\"/\")}\r\n              aria-hidden=\"true\"\r\n            >\r\n              MakeNTU\r\n            </div>\r\n          </Typography>\r\n          <Typography\r\n            variant=\"h6\"\r\n            className={clsx({\r\n              [classes.hide]: isLogin,\r\n            })}\r\n          >\r\n            <div\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => history.push(\"/login\")}\r\n              aria-hidden=\"true\"\r\n            >\r\n              LOGIN\r\n            </div>\r\n          </Typography>\r\n          <Typography variant=\"h6\">{userName}</Typography>\r\n          <IconButton\r\n            className={clsx(classes.iconButton, {\r\n              [classes.hide]: !isLogin,\r\n            })}\r\n            onClick={() => dispatch(logout())}\r\n          >\r\n            <ExitToAppIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <MUIDrawer\r\n        anchor={window.innerWidth >= maxPhoneWidth ? \"left\" : \"top\"}\r\n        variant=\"permanent\"\r\n        className={clsx(classes.drawer, {\r\n          [classes.drawerOpen]: open,\r\n          [classes.drawerClose]: !open,\r\n        })}\r\n        classes={{\r\n          paper: clsx({\r\n            [classes.drawerOpen]: open,\r\n            [classes.drawerClose]: !open,\r\n          }),\r\n        }}\r\n      >\r\n        <div className={classes.toolbar}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === \"rtl\" ? (\r\n              <KeyboardArrowUpIcon />\r\n            ) : (\r\n              <ChevronLeftIcon />\r\n            )}\r\n          </IconButton>\r\n        </div>\r\n\r\n        <List>\r\n          {itemList.map(({ text, to, icon }) => {\r\n            return (\r\n              <ListItem\r\n                button\r\n                key={text}\r\n                component={Link}\r\n                to={to}\r\n                onClick={handleDrawerClose}\r\n              >\r\n                <ListItemIcon>{icon}</ListItemIcon>\r\n                <ListItemText primary={text} />\r\n              </ListItem>\r\n            );\r\n          })}\r\n        </List>\r\n      </MUIDrawer>\r\n      <div className={classes.offset} />\r\n      <div\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: open,\r\n        })}\r\n      >\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nDrawer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Drawer;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Element } from \"react-scroll\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport { Button, Grid, Paper, Typography } from \"@mui/material/\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { selectSession } from \"../../slices/sessionSlice\";\r\n/**\r\n * This is Main Page\r\n */\r\nexport default function Top() {\r\n  const history = useHistory();\r\n\r\n  const useStyles = makeStyles(() => ({\r\n    root: {\r\n      flexGrow: 1,\r\n      width: \"100%\",\r\n      height: \"100vh\",\r\n      overflow: \"auto\",\r\n    },\r\n    paper: {\r\n      background: \"rgb(0,0,0,.0)\",\r\n      boxShadow: \"none\",\r\n    },\r\n    text: {\r\n      margin: \"auto\",\r\n      textAlign: \"start\",\r\n      width: \"80%\",\r\n    },\r\n    time: {\r\n      margin: \"auto\",\r\n      color: \"#F5DE83\",\r\n      textAlign: \"end\",\r\n      width: \"70%\",\r\n      fontWeight: \"400\",\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n  const { isLogin } = useSelector(selectSession);\r\n  return (\r\n    <Element name=\"title\">\r\n      <div className={classes.root}>\r\n        <Grid\r\n          container\r\n          direction=\"column\"\r\n          style={{\r\n            // boxShadow: \"0 0 15px #f3d42e inset\",\r\n            padding: \"10px\",\r\n            margin: \"auto\",\r\n            marginTop: \"5%\",\r\n            marginLeft: \"30%\",\r\n            width: \"90%\",\r\n            maxWidth: \"500px\",\r\n            maxHeight: \"500px\",\r\n          }}\r\n        >\r\n          <Paper className={classes.paper}>\r\n            <Grid item style={{ marginTop: \"15%\", marginLeft: \"5%\" }}>\r\n              <Typography\r\n                gutterBottom\r\n                variant=\"h5\"\r\n                className={classes.text}\r\n                style={{ opacity: \".5\", textDecoration: \"none\" }}\r\n              >\r\n                MakeNTU\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h3\"\r\n                className={classes.text}\r\n                style={{ marginBottom: \"18px\" }}\r\n              >\r\n                Competition Web\r\n              </Typography>\r\n            </Grid>\r\n            {!isLogin && (\r\n              <Button\r\n                style={{\r\n                  width: \"70%\",\r\n                  display: \"flex\",\r\n                  margin: \"auto\",\r\n                  marginTop: \"15%\",\r\n                  marginBottom: \"3%\",\r\n                }}\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                onClick={() => history.push(\"/login\")}\r\n              >\r\n                <Link\r\n                  style={{ textDecoration: \"none\", color: \"white\" }}\r\n                  to=\"/login\"\r\n                >\r\n                  Log in\r\n                </Link>\r\n              </Button>\r\n            )}\r\n            {/* <Button\r\n              style={{\r\n                width: \"70%\",\r\n                display: \"flex\",\r\n                margin: \"auto\",\r\n              }}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n            >\r\n              <Link\r\n                style={{ textDecoration: \"none\", color: \"white\" }}\r\n                to=\"/courses\"\r\n              >\r\n                Start to Select Courses\r\n              </Link>\r\n            </Button> */}\r\n          </Paper>\r\n        </Grid>\r\n      </div>\r\n    </Element>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst FooterContainer = styled.div`\r\n  width: 100%;\r\n  height: 10%;\r\n  display: flex;\r\n  margin: auto;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst Text = styled.h1`\r\n  font-size: 25px;\r\n  font-weight: 500;\r\n  line-height: 1.4;\r\n  color: #fff;\r\n  margin: 0;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst Members = styled.div`\r\n  width: 80%;\r\n  display: flex;\r\n  height: 150px;\r\n  /* overflow:auto; */\r\n  flex-direction: column;\r\n  font-size: 12px;\r\n  letter-spacing: 2px;\r\n  border-top: 2px solid #cdcdcd;\r\n  padding-right: 10px;\r\n  padding-left: 10px;\r\n\r\n  color: #fff;\r\n  align-items: center;\r\n  /* justify-content: space-between; */\r\n  @media screen and (max-width: 480px) {\r\n    width: 90%;\r\n    height: 130px;\r\n    display: flex;\r\n    overflow: auto;\r\n    font-size: 11px;\r\n    letter-spacing: 1.5px;\r\n    line-height: 1.5;\r\n    flex-direction: column;\r\n    // justify-content: space-between;\r\n    /* align-items:center; */\r\n    padding-left: 8px;\r\n    padding-right: 8px;\r\n  }\r\n`;\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <FooterContainer>\r\n      <Text>Developers</Text>\r\n      <Members>\r\n        <p> 賴群貿 </p>\r\n      </Members>\r\n    </FooterContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Top from \"./TopSection\";\r\nimport Footer from \"./Footer.js\";\r\nexport default function Main() {\r\n  return (\r\n    <div>\r\n      <Top />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  CssBaseline,\r\n  Box,\r\n  Typography,\r\n  Container,\r\n  InputAdornment,\r\n  IconButton,\r\n  OutlinedInput,\r\n} from \"@mui/material/\";\r\nimport LockTwoTone from \"@mui/icons-material/LockTwoTone\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport Visibility from \"@mui/icons-material/Visibility\";\r\nimport VisibilityOff from \"@mui/icons-material/VisibilityOff\";\r\n\r\n// api\r\nimport { SessionAPI } from \"../../api\";\r\nimport { setLogin } from \"../../slices/sessionSlice\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      NTUEE {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(5),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n    borderRadius: \"5%\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    marginTop: theme.spacing(8),\r\n    backgroundColor: theme.palette.secondary.main,\r\n    height: \"70px\",\r\n    width: \"70px\",\r\n  },\r\n  form: {\r\n    width: \"80%\",\r\n    marginTop: theme.spacing(5),\r\n    marginBottom: theme.spacing(8),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(5, 0, 2),\r\n  },\r\n  accountmargin: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function Login() {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [values, setValues] = React.useState({\r\n    account: \"\",\r\n    password: \"\",\r\n    showPassword: false,\r\n    error: false,\r\n  });\r\n\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({ ...values, [prop]: event.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      // /^(b|r|d)\\d{8}$/i.test(values.account) &&\r\n      !/^$/i.test(values.password)\r\n    ) {\r\n      values.error = false;\r\n      try {\r\n        const response = await SessionAPI.postSession(\r\n          values.account,\r\n          values.password\r\n        );\r\n        dispatch(setLogin(response.data));\r\n      } catch (err) {\r\n        console.error(err);\r\n        values.error = true;\r\n      }\r\n    } else {\r\n      values.error = true;\r\n    }\r\n    setValues({ ...values, account: \"\", password: \"\", showPassword: \"\" });\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockTwoTone style={{ fontSize: 40 }} />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            <div>Sign in</div>\r\n          </Typography>\r\n          <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n            <OutlinedInput\r\n              error={values.error}\r\n              margin=\"dense\"\r\n              required\r\n              fullWidth\r\n              id=\"StudentId\"\r\n              placeholder=\"Student ID\"\r\n              value={values.account}\r\n              name=\"StudentId\"\r\n              className={classes.accountmargin}\r\n              autoComplete=\"StudentId\"\r\n              onChange={handleChange(\"account\")}\r\n              autoFocus\r\n            />\r\n            <OutlinedInput\r\n              error={values.error}\r\n              margin=\"dense\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n              value={values.password}\r\n              id=\"password\"\r\n              type={values.showPassword ? \"text\" : \"password\"}\r\n              autoComplete=\"current-password\"\r\n              onChange={handleChange(\"password\")}\r\n              endAdornment={\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={handleClickShowPassword}\r\n                    onMouseDown={handleMouseDownPassword}\r\n                    edge=\"end\"\r\n                  >\r\n                    {values.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              }\r\n            />\r\n            <div style={{ color: \"red\" }}>\r\n              {values.error ? \"Incorrect account or password\" : null}\r\n            </div>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              <div>Sign in</div>\r\n            </Button>\r\n            <Box>\r\n              <Copyright />\r\n            </Box>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport { lighten } from \"@mui/material/\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TablePagination,\r\n  TableHead,\r\n  TableSortLabel,\r\n  TableRow,\r\n  Toolbar,\r\n  Paper,\r\n  Checkbox,\r\n  Input,\r\n  Typography,\r\n  Tooltip,\r\n  IconButton,\r\n} from \"@mui/material/\";\r\nimport PropTypes from \"prop-types\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\n\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === \"desc\"\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nconst headCells = [\r\n  { id: \"id\", numeric: false, disablePadding: true, label: \"id\" },\r\n  { id: \"name\", numeric: false, disablePadding: true, label: \"name\" },\r\n  {\r\n    id: \"authority\",\r\n    numeric: false,\r\n    disablePadding: true,\r\n    label: \"authority\",\r\n  },\r\n  { id: \"password\", numeric: false, disablePadding: true, label: \"password\" },\r\n];\r\n\r\nfunction EnhancedTableHead(props) {\r\n  const {\r\n    classes,\r\n    onSelectAllClick,\r\n    order,\r\n    orderBy,\r\n    numSelectedInPage,\r\n    rowCount,\r\n    onRequestSort,\r\n  } = props;\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead className={classes.head}>\r\n      <TableRow>\r\n        <TableCell padding=\"none\" className={classes.headCell}>\r\n          <Checkbox\r\n            indeterminate={\r\n              numSelectedInPage > 0 && numSelectedInPage < rowCount\r\n            }\r\n            checked={rowCount > 0 && numSelectedInPage === rowCount}\r\n            onChange={onSelectAllClick}\r\n            inputProps={{ \"aria-label\": \"select all desserts\" }}\r\n          />\r\n        </TableCell>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            className={classes.headCell}\r\n            key={headCell.id}\r\n            align={headCell.numeric ? \"right\" : \"left\"}\r\n            padding={headCell.disablePadding ? \"none\" : \"default\"}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n          >\r\n            <TableSortLabel\r\n              className={classes.sortlabel}\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : \"asc\"}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              {headCell.label}\r\n              {orderBy === headCell.id ? (\r\n                <span className={classes.visuallyHidden}>\r\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\r\n                </span>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n        <TableCell className={classes.headCell} />\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.oneOfType([PropTypes.object]).isRequired,\r\n  numSelectedInPage: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: theme.spacing(1),\r\n  },\r\n  highlight:\r\n    theme.palette.type === \"light\"\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  title: {\r\n    flex: \"1 1 100%\",\r\n  },\r\n}));\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const classes = useToolbarStyles();\r\n  const {\r\n    rootClasses,\r\n    numSelected,\r\n    search,\r\n    setSearch,\r\n    handleDelete,\r\n    setPage,\r\n    authority,\r\n  } = props;\r\n\r\n  const handleSearch = (e) => {\r\n    setSearch(e.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  return (\r\n    <Toolbar\r\n      className={\r\n        (clsx(classes.root, {\r\n          [classes.highlight]: numSelected > 0,\r\n        }),\r\n        rootClasses.toolbar)\r\n      }\r\n    >\r\n      {numSelected > 0 ? (\r\n        <Typography\r\n          className={classes.title}\r\n          color=\"inherit\"\r\n          variant=\"subtitle1\"\r\n          component=\"div\"\r\n        >\r\n          {numSelected} selected\r\n        </Typography>\r\n      ) : (\r\n        <Typography\r\n          className={classes.title}\r\n          variant=\"h6\"\r\n          id=\"tableTitle\"\r\n          component=\"div\"\r\n        >\r\n          Students\r\n        </Typography>\r\n      )}\r\n      <Input\r\n        value={search}\r\n        name=\"search bar\"\r\n        placeholder=\"id or name\"\r\n        onChange={(e) => {\r\n          handleSearch(e);\r\n        }}\r\n      />\r\n      {numSelected > 0 ? (\r\n        <Tooltip title=\"Delete\" placement=\"bottom\">\r\n          <span>\r\n            <IconButton\r\n              aria-label=\"delete\"\r\n              onClick={() => handleDelete()}\r\n              disabled={authority !== 1}\r\n            >\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  rootClasses: PropTypes.oneOfType([PropTypes.object]).isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  search: PropTypes.string.isRequired,\r\n  setSearch: PropTypes.func.isRequired,\r\n  handleDelete: PropTypes.func.isRequired,\r\n  setPage: PropTypes.func.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  paper: {\r\n    width: \"100%\",\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  container: {\r\n    maxHeight: 440,\r\n  },\r\n  toolbar: {\r\n    minHeight: \"50px\",\r\n  },\r\n  table: {\r\n    minWidth: 500,\r\n    padding: 0,\r\n  },\r\n  sortlabel: {\r\n    margin: 0,\r\n  },\r\n  headCell: {},\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: \"rect(0 0 0 0)\",\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: \"hidden\",\r\n    padding: 0,\r\n    position: \"absolute\",\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n  tablecell: {\r\n    padding: 0,\r\n  },\r\n  checkbox: {\r\n    padding: \"5px\",\r\n  },\r\n  icon: {\r\n    padding: 0,\r\n  },\r\n  copy: {\r\n    borderRadius: \"10px\",\r\n    backgroundColor: \"#424242\",\r\n    color: \"#ffffff\",\r\n    boxShadow: \"0px 0px 0px 0px rgba(0,0,0,0.3)\",\r\n  },\r\n}));\r\n\r\nexport default function StudentTable({\r\n  data,\r\n  handleEdit,\r\n  handleDelete,\r\n  selected,\r\n  setSelected,\r\n  showAlert,\r\n  authority,\r\n}) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"calories\");\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(100);\r\n  const [search, setSearch] = React.useState(\"\");\r\n\r\n  //\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const studentFilter = (e) => {\r\n    return search\r\n      ? e.teamName.toUpperCase().startsWith(search.toUpperCase()) ||\r\n          e.id.toUpperCase().startsWith(search.toUpperCase())\r\n      : true;\r\n  };\r\n\r\n  //\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const nowSelecteds = data\r\n        .filter((e) => studentFilter(e))\r\n        .map((n) => n.id);\r\n      const newSelecteds = nowSelecteds.filter((id) => !selected.includes(id));\r\n      if (newSelecteds.length === 0) {\r\n        setSelected(selected.filter((id) => !nowSelecteds.includes(id)));\r\n      } else {\r\n        setSelected(selected.concat(newSelecteds));\r\n      }\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  //\r\n  const handleClick = (event, name) => {\r\n    const selectedIndex = selected.indexOf(name);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, name);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  // change page\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  // change rows per page\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  // select\r\n  const isSelected = (name) => selected.indexOf(name) !== -1;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper className={classes.paper}>\r\n        <EnhancedTableToolbar\r\n          rootClasses={classes}\r\n          numSelected={selected.length}\r\n          search={search}\r\n          setSearch={setSearch}\r\n          setPage={setPage}\r\n          handleDelete={() => {\r\n            handleDelete(selected);\r\n          }}\r\n          authority={authority}\r\n        />\r\n        <TableContainer className={classes.container}>\r\n          <Table\r\n            stickyHeader\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            aria-label=\"enhanced table\"\r\n          >\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              numSelectedInPage={\r\n                data\r\n                  .filter((e) => studentFilter(e))\r\n                  .map((n) => n.id)\r\n                  .filter((id) => selected.includes(id)).length\r\n              }\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onSelectAllClick={handleSelectAllClick}\r\n              onRequestSort={handleRequestSort}\r\n              rowCount={data.filter((e) => studentFilter(e)).length}\r\n            />\r\n            <TableBody>\r\n              {stableSort(data, getComparator(order, orderBy))\r\n                .filter((e) => studentFilter(e))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, index) => {\r\n                  const isItemSelected = isSelected(row.id);\r\n                  const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                  return (\r\n                    <TableRow\r\n                      hover\r\n                      role=\"checkbox\"\r\n                      aria-checked={isItemSelected}\r\n                      tabIndex={-1}\r\n                      key={row.id}\r\n                      selected={isItemSelected}\r\n                    >\r\n                      {/* <TableCell\r\n                        key={headCell.id}\r\n                        align={headCell.numeric ? \"right\" : \"left\"}\r\n                        padding={headCell.disablePadding ? \"none\" : \"default\"}\r\n                        sortDirection={orderBy === headCell.id ? order : false}\r\n                      /> */}\r\n                      <TableCell className={classes.tablecell}>\r\n                        <Checkbox\r\n                          onClick={(event) => handleClick(event, row.id)}\r\n                          checked={isItemSelected}\r\n                          inputProps={{ \"aria-labelledby\": labelId }}\r\n                          className={classes.checkbox}\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell\r\n                        key={headCells[0].id}\r\n                        align={headCells[0].numeric ? \"right\" : \"left\"}\r\n                        padding={\r\n                          headCells[0].disablePadding ? \"none\" : \"default\"\r\n                        }\r\n                        component=\"th\"\r\n                        id={row.id}\r\n                        scope=\"row\"\r\n                        className={classes.tablecell}\r\n                      >\r\n                        {row.id}\r\n                      </TableCell>\r\n                      <TableCell\r\n                        key={headCells[1].id}\r\n                        align={headCells[1].numeric ? \"right\" : \"left\"}\r\n                        padding={\r\n                          headCells[1].disablePadding ? \"none\" : \"default\"\r\n                        }\r\n                        className={classes.tablecell}\r\n                      >\r\n                        {row.teamName}\r\n                      </TableCell>\r\n                      <TableCell\r\n                        key={headCells[2].id}\r\n                        align={headCells[2].numeric ? \"right\" : \"left\"}\r\n                        padding={\r\n                          headCells[2].disablePadding ? \"none\" : \"default\"\r\n                        }\r\n                        className={classes.tablecell}\r\n                      >\r\n                        {row.authority}\r\n                      </TableCell>\r\n                      <TableCell\r\n                        key={headCells[3].id}\r\n                        align={headCells[3].numeric ? \"right\" : \"left\"}\r\n                        padding={\r\n                          headCells[3].disablePadding ? \"none\" : \"default\"\r\n                        }\r\n                        className={classes.tablecell}\r\n                      >\r\n                        {row.password ? (\r\n                          <CopyToClipboard text={row.password}>\r\n                            <button\r\n                              type=\"button\"\r\n                              className={classes.copy}\r\n                              onClick={() => {\r\n                                showAlert(\"info\", \"Copy password.\");\r\n                              }}\r\n                            >\r\n                              {row.password}\r\n                            </button>\r\n                          </CopyToClipboard>\r\n                        ) : (\r\n                          <></>\r\n                        )}\r\n                      </TableCell>\r\n                      <TableCell className={classes.tablecell}>\r\n                        <IconButton\r\n                          onClick={() => handleEdit(row.id)}\r\n                          className={classes.icon}\r\n                          disabled={selected.length !== 0 || authority !== 1}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={() => handleDelete([row.id])}\r\n                          className={classes.icon}\r\n                          disabled={selected.length !== 0 || authority !== 1}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[50, 100, 200, 400]}\r\n          component=\"div\"\r\n          count={data.filter((e) => studentFilter(e)).length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nStudentTable.propTypes = {\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n      teamName: PropTypes.string.isRequired,\r\n      authority: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n        .isRequired,\r\n      password: PropTypes.string,\r\n    })\r\n  ).isRequired,\r\n  handleEdit: PropTypes.func.isRequired,\r\n  handleDelete: PropTypes.func.isRequired,\r\n  selected: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\r\n  setSelected: PropTypes.func.isRequired,\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport {\r\n  Alert,\r\n  Button,\r\n  Container,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Grid,\r\n  FormControl,\r\n  MenuItem,\r\n  InputLabel,\r\n  Select,\r\n  Typography,\r\n  Snackbar,\r\n} from \"@mui/material/\";\r\n\r\nimport Papa from \"papaparse\";\r\nimport { selectSession } from \"../../slices/sessionSlice\";\r\n\r\nimport StudentTable from \"./StudentTable\";\r\n\r\nimport { StudentDataAPI, PasswordAPI } from \"../../api\";\r\n\r\nconst characters =\r\n  \"ABCDEFGHIJKLMNPQRSTUVWXYZabcdefghijklmnpqrstuvwxyz123456789\"; // no O, o, 0\r\nconst charactersLength = characters.length;\r\nconst passwordLength = 8;\r\n\r\nconst genPassword = () => {\r\n  let result = \"\";\r\n  for (let i = 0; i < passwordLength; i += 1) {\r\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n  }\r\n  return result;\r\n};\r\n\r\nconst authorityData = [\"0\", \"1\"];\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    maxWidth: \"1000px\",\r\n    padding: \"0px\",\r\n    \"& > *\": {\r\n      margin: \"auto\",\r\n    },\r\n  },\r\n  input: {\r\n    display: \"none\",\r\n  },\r\n}));\r\n\r\n/**\r\n * This is Student Data Page\r\n */\r\nexport default function StudentData() {\r\n  const classes = useStyles();\r\n\r\n  const [data, setData] = React.useState([]);\r\n  const [loaded, setLoaded] = React.useState(false);\r\n  const [filename, setFilename] = React.useState(\"\");\r\n  const [uploaded, setUploaded] = React.useState(false);\r\n  const [addOpen, setAddOpen] = React.useState(false);\r\n  const [addMultipleOpen, setAddMultipleOpen] = React.useState(false);\r\n  const [csv, setCsv] = React.useState(\"\");\r\n  const [editId, setEditId] = React.useState(\"\");\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [deleteOpen, setDeleteOpen] = React.useState(false);\r\n  const [deleteIds, setDeleteIds] = React.useState([]);\r\n  const [invalidDelete, setInvalidDelete] = React.useState(false);\r\n  const [regenerateOpen, setRegenerateOpen] = React.useState(false);\r\n  const [downloadOpen, setDownloadOpen] = React.useState(false);\r\n  const [invalidRegenerate, setInvalidRegenerate] = React.useState(false);\r\n  const [alert, setAlert] = React.useState({});\r\n  const [errors, setErrors] = React.useState({\r\n    id: false,\r\n    teamName: false,\r\n    authority: false,\r\n  });\r\n  const [errorsMsg, setErrorsMsg] = React.useState({\r\n    id: \"\",\r\n    teamName: \"\",\r\n    authority: \"\",\r\n  });\r\n  const [newStudentMultiple, setNewStudentMultiple] = React.useState({\r\n    id: \"\",\r\n    teamName: \"\",\r\n    authority: \"\",\r\n  });\r\n  const [newStudent, setNewStudent] = React.useState({\r\n    id: \"\",\r\n    teamName: \"\",\r\n    authority: \"\",\r\n  });\r\n  const { authority } = useSelector(selectSession);\r\n\r\n  const showAlert = (severity, msg) => {\r\n    setAlert({ open: true, severity, msg });\r\n  };\r\n\r\n  const handleStudentDataReload = async () => {\r\n    try {\r\n      setData((await StudentDataAPI.getStudentData()).data);\r\n    } catch (err) {\r\n      showAlert(\"error\", \"Failed to load student data.\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleStudentDataReload();\r\n  }, []);\r\n\r\n  const handleOpenAddMultiple = () => {\r\n    // console.log(\"handleOpenAddMultiple\");\r\n    setUploaded(false);\r\n    setAddMultipleOpen(true);\r\n    setNewStudentMultiple({\r\n      id: \"\",\r\n      teamName: \"\",\r\n      authority: \"\",\r\n    });\r\n    setLoaded(false);\r\n    setFilename(\"\");\r\n  };\r\n\r\n  const handleCloseAddMultiple = () => {\r\n    // console.log(\"handleCloseAddMultiple\");\r\n    setAddMultipleOpen(false);\r\n  };\r\n\r\n  const handleOpenAdd = () => {\r\n    // console.log(data);\r\n    // console.log(\"handleOpenAdd\");\r\n    setNewStudent({\r\n      id: \"\",\r\n      teamName: \"\",\r\n      authority: \"\",\r\n    });\r\n    setErrors({\r\n      id: false,\r\n      teamName: false,\r\n      authority: false,\r\n    });\r\n    setErrorsMsg({\r\n      id: \"\",\r\n      teamName: \"\",\r\n      authority: \"\",\r\n    });\r\n    setAddOpen(true);\r\n  };\r\n\r\n  const handleCloseAdd = () => {\r\n    // console.log(\"handleCloseAdd\");\r\n    setNewStudent({\r\n      id: \"\",\r\n      teamName: \"\",\r\n      authority: \"\",\r\n    });\r\n    setErrors({\r\n      id: false,\r\n      teamName: false,\r\n      authority: false,\r\n    });\r\n    setErrorsMsg({\r\n      id: \"\",\r\n      teamName: \"\",\r\n      authority: \"\",\r\n    });\r\n    setAddOpen(false);\r\n  };\r\n\r\n  const handleOpenEdit = (id) => {\r\n    // console.log(\"handleOpenEdit\");\r\n    setEditId(id);\r\n    // console.log(id);\r\n    const student = data.find((e) => e.id === id);\r\n    setNewStudent({\r\n      id: student.id,\r\n      teamName: student.teamName,\r\n      authority: String(student.authority),\r\n    });\r\n    setErrors({\r\n      id: false,\r\n      teamName: false,\r\n      authority: false,\r\n    });\r\n    setErrorsMsg({\r\n      id: \"\",\r\n      teamName: \"\",\r\n      authority: \"\",\r\n    });\r\n    setAddOpen(true);\r\n  };\r\n\r\n  const handleCloseEdit = () => {\r\n    // console.log(\"handleCloseEdit\");\r\n    setEditId(\"\");\r\n    setNewStudent({\r\n      id: \"\",\r\n      teamName: \"\",\r\n      authority: \"\",\r\n    });\r\n    setErrors({\r\n      id: false,\r\n      teamName: false,\r\n      authority: false,\r\n    });\r\n    setErrorsMsg({\r\n      id: \"\",\r\n      teamName: \"\",\r\n      authority: \"\",\r\n    });\r\n    setAddOpen(false);\r\n  };\r\n\r\n  const handleOpenDelete = (ids) => {\r\n    if (\r\n      data.filter((e) => ids.includes(e.id)).filter((e) => e.authority === 1)\r\n        .length !== 0\r\n    ) {\r\n      setInvalidDelete(true);\r\n    } else {\r\n      setInvalidDelete(false);\r\n      setDeleteIds(ids);\r\n    }\r\n    setDeleteOpen(true);\r\n  };\r\n\r\n  const handleCloseDelete = () => {\r\n    setDeleteOpen(false);\r\n  };\r\n\r\n  const handleOpenRegenerate = () => {\r\n    if (\r\n      data\r\n        .filter((e) => selected.includes(e.id))\r\n        .filter((e) => e.authority === 1).length !== 0\r\n    ) {\r\n      setInvalidRegenerate(true);\r\n    } else {\r\n      setInvalidRegenerate(false);\r\n    }\r\n    setRegenerateOpen(true);\r\n  };\r\n\r\n  const handleCloseRegenerate = () => {\r\n    setRegenerateOpen(false);\r\n  };\r\n\r\n  const handleOpenDownload = () => {\r\n    setDownloadOpen(true);\r\n  };\r\n\r\n  const handleCloseDownload = () => {\r\n    setDownloadOpen(false);\r\n  };\r\n\r\n  const onIdChange = (e) => {\r\n    setNewStudent({\r\n      ...newStudent,\r\n      id: e.target.value,\r\n    });\r\n  };\r\n\r\n  const onNameChange = (e) => {\r\n    setNewStudent({\r\n      ...newStudent,\r\n      teamName: e.target.value,\r\n    });\r\n  };\r\n\r\n  const onAuthorityChange = (e) => {\r\n    setNewStudent({\r\n      ...newStudent,\r\n      authority: e.target.value,\r\n    });\r\n  };\r\n\r\n  const testRepeatId = (id) => {\r\n    return data.map((e) => e.id.toUpperCase()).includes(id.toUpperCase());\r\n  };\r\n\r\n  const handleUploadCsv = async (efile) => {\r\n    // console.log(efile);\r\n    if (efile) {\r\n      Papa.parse(efile, {\r\n        skipEmptyLines: true,\r\n        complete(results) {\r\n          let valid = true;\r\n          let repeat = false;\r\n          results.data.slice(1).forEach((student) => {\r\n            if (\r\n              // !/^(b|r|d)\\d{8}$/i.test(student[0]) ||\r\n              !student[1]\r\n            ) {\r\n              valid = false;\r\n              // console.log(student);\r\n            }\r\n            if (testRepeatId(student[0])) {\r\n              repeat = true;\r\n              // console.log(student);\r\n            }\r\n          });\r\n          if (valid && !repeat) {\r\n            const newData = results.data.slice(1).reduce((obj, cur) => {\r\n              return obj.concat([\r\n                {\r\n                  id: cur[0].toUpperCase(),\r\n                  teamName: cur[1],\r\n                  authority: 0,\r\n                },\r\n              ]);\r\n            }, []);\r\n            setNewStudentMultiple(newData);\r\n            setLoaded(true);\r\n            // console.log(\"Multiple student data loaded\");\r\n            // console.log(newData);\r\n            setFilename(efile.name);\r\n            return;\r\n          }\r\n          if (!valid && !repeat) {\r\n            showAlert(\"error\", \"Invalid student data format.\");\r\n          }\r\n          if (valid && repeat) {\r\n            showAlert(\"error\", \"Student UserId repeat.\");\r\n          }\r\n          if (!valid && repeat) {\r\n            showAlert(\r\n              \"error\",\r\n              \"Invalid student data format & Student UserId repeat.\"\r\n            );\r\n          }\r\n          setNewStudentMultiple({\r\n            id: \"\",\r\n            teamName: \"\",\r\n            authority: \"\",\r\n          });\r\n          setLoaded(false);\r\n          setFilename(\"\");\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleAddMultipleStudents = async () => {\r\n    // console.log(\"handleAddMultipleStudents\");\r\n    if (loaded) {\r\n      const newData = newStudentMultiple.map((student) => {\r\n        const password = genPassword();\r\n        return { ...student, password };\r\n      });\r\n      // console.log(newData);\r\n      // console.log(\"start post datas\");\r\n      try {\r\n        await StudentDataAPI.postStudentData(\r\n          newData.map((student) => {\r\n            return {\r\n              teamID: student.id,\r\n              password: student.password,\r\n              teamName: student.teamName,\r\n              authority: Number(student.authority),\r\n            };\r\n          })\r\n        );\r\n        // console.log(\"finish post\");\r\n        setUploaded(true);\r\n        setData(data.concat(newData));\r\n        // console.log(newData);\r\n        // console.log(data);\r\n\r\n        setNewStudentMultiple({\r\n          id: \"\",\r\n          teamName: \"\",\r\n          authority: \"\",\r\n        });\r\n\r\n        setLoaded(false);\r\n        const csvData = [];\r\n        newData.forEach((e) => {\r\n          csvData.push({\r\n            teamID: e.id,\r\n            teamName: e.teamName,\r\n            password: e.password,\r\n          });\r\n        });\r\n        setCsv(Papa.unparse(csvData));\r\n        showAlert(\"success\", \"Add multiple student data complete.\");\r\n      } catch (err) {\r\n        showAlert(\"error\", \"Failed to Add multiple student data.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const download = (filename, text) => {\r\n    const element = document.createElement(\"a\");\r\n    element.setAttribute(\r\n      \"href\",\r\n      `data:text/plain;charset=utf-8,${encodeURIComponent(text)}`\r\n    );\r\n    element.setAttribute(\"download\", filename);\r\n\r\n    element.style.display = \"none\";\r\n    document.body.appendChild(element);\r\n\r\n    element.click();\r\n\r\n    document.body.removeChild(element);\r\n  };\r\n\r\n  const handleDownloadPassword = () => {\r\n    // console.log(\"download password\");\r\n    if (\r\n      data.filter((e) => selected.includes(e.id)).filter((e) => !e.password)\r\n        .length === 0\r\n    ) {\r\n      // console.log(data.filter((e) => selected.includes(e.id)));\r\n      const csvData = [];\r\n      // console.log(data);\r\n      data\r\n        .slice(1)\r\n        .filter((e) => selected.includes(e.id))\r\n        .forEach((e) => {\r\n          csvData.push({\r\n            teamID: e.id,\r\n            teamName: e.teamName,\r\n            password: e.password,\r\n          });\r\n        });\r\n      download(\"datas.csv\", Papa.unparse(csvData));\r\n    } else {\r\n      handleOpenDownload();\r\n    }\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    // console.log(csv);\r\n    download(\"datas.csv\", csv);\r\n  };\r\n\r\n  const handleGeneratePassword = async () => {\r\n    // console.log(\"generate password\");\r\n    const passwords = [];\r\n    const updateData = data.map((e) => {\r\n      if (selected.includes(e.id)) {\r\n        const password = genPassword();\r\n        const student = e;\r\n        student.password = password;\r\n        passwords.push({\r\n          teamID: e.id,\r\n          new_password: password,\r\n        });\r\n        return student;\r\n      }\r\n      return e;\r\n    });\r\n    try {\r\n      await PasswordAPI.putPassword(passwords);\r\n      showAlert(\"success\", \"Generate password complete.\");\r\n      setData(updateData);\r\n      handleCloseRegenerate();\r\n      setSelected([]);\r\n    } catch (err) {\r\n      showAlert(\"error\", \"Failed to regenerate password.\");\r\n      handleCloseRegenerate();\r\n    }\r\n  };\r\n\r\n  const judgeNewStudent = () => {\r\n    // console.log(newStudent);\r\n    let error = false;\r\n    let newErrors = errors;\r\n    let newErrorsMsg = errorsMsg;\r\n    if (!newStudent.id) {\r\n      newErrors = { ...newErrors, id: true };\r\n      newErrorsMsg = { ...newErrorsMsg, id: \"id should not be empty\" };\r\n      error = true;\r\n    }\r\n    // else if (!/^(b|r|d)\\d{8}$/i.test(newStudent.id)) {\r\n    //   newErrors = { ...newErrors, id: true };\r\n    //   newErrorsMsg = { ...newErrorsMsg, id: \"id invalid format\" };\r\n    //   error = true;\r\n    // }\r\n    else if (editId === \"\" && testRepeatId(newStudent.id)) {\r\n      newErrors = { ...newErrors, id: true };\r\n      newErrorsMsg = { ...newErrorsMsg, id: \"repeat userId\" };\r\n      error = true;\r\n    } else {\r\n      newErrors = { ...newErrors, id: false };\r\n      newErrorsMsg = { ...newErrorsMsg, id: \"\" };\r\n    }\r\n    if (!newStudent.teamName) {\r\n      newErrors = { ...newErrors, teamName: true };\r\n      newErrorsMsg = {\r\n        ...newErrorsMsg,\r\n        teamName: \"teamName should not be empty\",\r\n      };\r\n      error = true;\r\n    } else {\r\n      newErrors = { ...newErrors, teamName: false };\r\n      newErrorsMsg = { ...newErrorsMsg, teamName: \"\" };\r\n    }\r\n    // if (!newStudent.authority) {\r\n    //   newErrors = { ...newErrors, authority: true };\r\n    //   newErrorsMsg = {\r\n    //     ...newErrorsMsg,\r\n    //     authority: \"authority should not be empty\",\r\n    //   };\r\n    //   error = true;\r\n    // } else\r\n    if (!/^[012]$/.test(newStudent.authority)) {\r\n      newErrors = { ...newErrors, authority: true };\r\n      newErrorsMsg = {\r\n        ...newErrorsMsg,\r\n        authority: \"authority should be a 0, 1\",\r\n      };\r\n      error = true;\r\n    } else {\r\n      newErrors = { ...newErrors, authority: false };\r\n      newErrorsMsg = { ...newErrorsMsg, authority: \"\" };\r\n    }\r\n    setErrors(newErrors);\r\n    setErrorsMsg(newErrorsMsg);\r\n    return error;\r\n  };\r\n\r\n  const handleAddStudent = async () => {\r\n    const error = judgeNewStudent();\r\n\r\n    if (!error) {\r\n      const password = genPassword();\r\n      try {\r\n        await StudentDataAPI.postStudentData([\r\n          {\r\n            teamID: newStudent.id,\r\n            password,\r\n            teamName: newStudent.teamName,\r\n            authority: Number(newStudent.authority),\r\n          },\r\n        ]);\r\n        setData(\r\n          data.concat({\r\n            ...newStudent,\r\n            id: newStudent.id.toUpperCase(),\r\n            password,\r\n            authority: Number(newStudent.authority),\r\n          })\r\n        );\r\n        setNewStudent({\r\n          id: \"\",\r\n          teamName: \"\",\r\n          authority: \"\",\r\n        });\r\n        handleCloseAdd();\r\n        showAlert(\"success\", \"Add student data success.\");\r\n      } catch {\r\n        handleCloseAdd();\r\n        showAlert(\"error\", \"Failed to Add student data.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEditStudent = async () => {\r\n    const error = judgeNewStudent();\r\n    if (!error) {\r\n      try {\r\n        await StudentDataAPI.putStudentData([\r\n          {\r\n            teamID: newStudent.id,\r\n            teamName: newStudent.teamName,\r\n            authority: Number(newStudent.authority),\r\n          },\r\n        ]);\r\n        setData(\r\n          data.map((e) => {\r\n            if (e.id === newStudent.id) {\r\n              return {\r\n                id: newStudent.id,\r\n                teamName: newStudent.teamName,\r\n                authority: Number(newStudent.authority),\r\n              };\r\n            }\r\n            return e;\r\n          })\r\n        );\r\n        setNewStudent({\r\n          id: \"\",\r\n          teamName: \"\",\r\n          authority: \"\",\r\n        });\r\n        handleCloseEdit();\r\n        showAlert(\"success\", \"Edit student data success.\");\r\n      } catch (err) {\r\n        handleCloseEdit();\r\n        showAlert(\"error\", \"Failed to Edit student data.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDeleteStudent = async () => {\r\n    try {\r\n      await StudentDataAPI.deleteStudentData(deleteIds);\r\n      setData(data.filter((student) => !deleteIds.includes(student.id)));\r\n      // console.log(\"delete student data finish : \");\r\n      // console.log(deleteIds);\r\n      setDeleteIds([]);\r\n      setSelected([]);\r\n      handleCloseDelete();\r\n      showAlert(\"success\", \"delete student data success.\");\r\n    } catch (err) {\r\n      showAlert(\"error\", \"Failed to delete student data.\");\r\n      handleCloseDelete();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className={classes.root}>\r\n      <Dialog\r\n        aria-labelledby=\"simple-dialog-title\"\r\n        disableBackdropClick\r\n        open={addOpen}\r\n        onClose={handleCloseAdd}\r\n      >\r\n        {editId === \"\" ? (\r\n          <DialogTitle id=\"simple-dialog-title\">Add Single Student</DialogTitle>\r\n        ) : (\r\n          <DialogTitle id=\"simple-dialog-title\">\r\n            Edit Single Student\r\n          </DialogTitle>\r\n        )}\r\n        <DialogContent>\r\n          <TextField\r\n            id=\"teamID\"\r\n            label=\"teamID\"\r\n            type=\"text\"\r\n            fullWidth\r\n            value={newStudent.id}\r\n            error={errors.id}\r\n            onChange={onIdChange}\r\n            helperText={errorsMsg.id}\r\n            disabled={editId !== \"\"}\r\n          />\r\n          <TextField\r\n            id=\"teamName\"\r\n            label=\"teamName\"\r\n            type=\"text\"\r\n            fullWidth\r\n            value={newStudent.teamName}\r\n            error={errors.teamName}\r\n            onChange={onNameChange}\r\n            helperText={errorsMsg.teamName}\r\n          />\r\n\r\n          <FormControl fullWidth>\r\n            <InputLabel>authority</InputLabel>\r\n            <Select\r\n              fullWidth\r\n              value={newStudent.authority}\r\n              error={errors.authority}\r\n              onChange={onAuthorityChange}\r\n            >\r\n              {authorityData.map((e) => (\r\n                <MenuItem key={e} value={e}>\r\n                  {e}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={editId === \"\" ? handleCloseAdd : handleCloseEdit}>\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={editId === \"\" ? handleAddStudent : handleEditStudent}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            {editId === \"\" ? \"Add\" : \"Edit\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        aria-labelledby=\"simple-dialog-title\"\r\n        disableBackdropClick\r\n        open={deleteOpen}\r\n        onClose={handleCloseDelete}\r\n      >\r\n        {invalidDelete ? (\r\n          <DialogTitle id=\"simple-dialog-title\">\r\n            Students with authority 1 are invalid to delete\r\n          </DialogTitle>\r\n        ) : (\r\n          <DialogTitle id=\"simple-dialog-title\">\r\n            Are you sure to delete {deleteIds.length} students?\r\n          </DialogTitle>\r\n        )}\r\n        <DialogContent>\r\n          {invalidDelete\r\n            ? data\r\n                .filter((e) => selected.includes(e.id))\r\n                .filter((e) => e.authority === 1)\r\n                .map((e) => (\r\n                  <Typography key={e.id}>\r\n                    {`id: ${e.id}, \r\n              teamName: ${e.teamName},\r\n              authority: ${e.authority}`}\r\n                  </Typography>\r\n                ))\r\n            : data\r\n                .filter((e) => deleteIds.includes(e.id))\r\n                .map((e) => e.id)\r\n                .map((id) => (\r\n                  <Typography key={id}>\r\n                    {`id: ${data.find((e) => e.id === id).id}, \r\n              teamName: ${data.find((e) => e.id === id).teamName},\r\n              authority: ${data.find((e) => e.id === id).authority}`}\r\n                  </Typography>\r\n                ))}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {invalidDelete ? (\r\n            <Button onClick={handleCloseDelete}>Done</Button>\r\n          ) : (\r\n            <>\r\n              <Button onClick={handleCloseDelete}>Cancel</Button>\r\n              <Button\r\n                onClick={handleDeleteStudent}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n              >\r\n                Delete\r\n              </Button>\r\n            </>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        aria-labelledby=\"simple-dialog-title\"\r\n        disableBackdropClick\r\n        open={addMultipleOpen}\r\n        onClose={handleCloseAddMultiple}\r\n      >\r\n        {uploaded ? (\r\n          <DialogTitle id=\"simple-dialog-title\">Upload Completed</DialogTitle>\r\n        ) : (\r\n          <DialogTitle id=\"simple-dialog-title\">\r\n            Add multiple students from csv file\r\n          </DialogTitle>\r\n        )}\r\n        <DialogContent>\r\n          {uploaded ? (\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              component=\"span\"\r\n              onClick={handleDownload}\r\n            >\r\n              Download password\r\n            </Button>\r\n          ) : (\r\n            <label htmlFor=\"contained-button-file\">\r\n              <input\r\n                accept=\".csv\"\r\n                className={classes.input}\r\n                id=\"contained-button-file\"\r\n                type=\"file\"\r\n                onChange={(e) => handleUploadCsv(e.target.files[0])}\r\n              />\r\n              <Button variant=\"outlined\" color=\"primary\" component=\"span\">\r\n                Select csv file\r\n              </Button>\r\n            </label>\r\n          )}\r\n          {loaded && !uploaded ? filename : \"\"}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {uploaded ? (\r\n            <Button\r\n              onClick={handleCloseAddMultiple}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n            >\r\n              Finish\r\n            </Button>\r\n          ) : (\r\n            <>\r\n              <Button onClick={handleCloseAddMultiple}>Cancel</Button>\r\n              {loaded ? (\r\n                <Button\r\n                  onClick={handleAddMultipleStudents}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  Upload\r\n                </Button>\r\n              ) : (\r\n                <> </>\r\n              )}\r\n            </>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        aria-labelledby=\"simple-dialog-title\"\r\n        disableBackdropClick\r\n        open={regenerateOpen}\r\n        onClose={handleCloseRegenerate}\r\n      >\r\n        {invalidRegenerate ? (\r\n          <DialogTitle id=\"simple-dialog-title\">\r\n            These student are invalid to regenerate password:\r\n          </DialogTitle>\r\n        ) : (\r\n          <DialogTitle id=\"simple-dialog-title\">\r\n            Are you sure to Regenerate password of {selected.length} students?\r\n          </DialogTitle>\r\n        )}\r\n        <DialogContent>\r\n          {invalidRegenerate\r\n            ? data\r\n                .filter((e) => selected.includes(e.id))\r\n                .filter((e) => e.authority === 1)\r\n                .map((e) => (\r\n                  <Typography key={e.id}>\r\n                    {`id: ${e.id}, \r\n              teamName: ${e.teamName},\r\n              authority: ${e.authority}`}\r\n                  </Typography>\r\n                ))\r\n            : data\r\n                .filter((e) => selected.includes(e.id))\r\n                .map((e) => e.id)\r\n                .map((id) => (\r\n                  <Typography key={id}>\r\n                    {`id: ${data.find((e) => e.id === id).id}, \r\n              teamName: ${data.find((e) => e.id === id).teamName},\r\n              authority: ${data.find((e) => e.id === id).authority}`}\r\n                  </Typography>\r\n                ))}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {invalidRegenerate ? (\r\n            <Button\r\n              onClick={handleCloseRegenerate}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n            >\r\n              Close\r\n            </Button>\r\n          ) : (\r\n            <>\r\n              <Button onClick={handleCloseRegenerate}>Cancel</Button>\r\n              <Button\r\n                onClick={handleGeneratePassword}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n              >\r\n                Regenerate\r\n              </Button>\r\n            </>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        aria-labelledby=\"simple-dialog-title\"\r\n        disableBackdropClick\r\n        open={downloadOpen}\r\n        onClose={handleCloseDownload}\r\n      >\r\n        <DialogTitle id=\"simple-dialog-title\">\r\n          These student are invalid to download password\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {data\r\n            .filter((e) => selected.includes(e.id))\r\n            .filter((e) => !e.password)\r\n            .map((e) => (\r\n              <Typography key={e.id}>\r\n                {`id: ${e.id}, \r\n              teamName: ${e.teamName},\r\n              authority: ${e.authority}`}\r\n              </Typography>\r\n            ))}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={handleCloseDownload}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Grid\r\n        container\r\n        spacing={1}\r\n        justify=\"center\"\r\n        alignItems=\"flex-start\"\r\n        direction=\"row\"\r\n      >\r\n        <Grid item sm={12}>\r\n          <Grid\r\n            container\r\n            spacing={1}\r\n            justify=\"flex-start\"\r\n            alignItems=\"flex-start\"\r\n            direction=\"row\"\r\n          >\r\n            <Grid item>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleOpenAdd}\r\n                disabled={authority !== 1}\r\n              >\r\n                Add Single Student\r\n              </Button>\r\n            </Grid>\r\n            <Grid item>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleOpenAddMultiple}\r\n                disabled={authority !== 1}\r\n              >\r\n                Add Students (csv)\r\n              </Button>\r\n            </Grid>\r\n            <Grid item>\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                onClick={handleDownloadPassword}\r\n                disabled={selected.length === 0 || authority !== 1}\r\n              >\r\n                Download Password\r\n              </Button>\r\n            </Grid>\r\n            <Grid item>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleOpenRegenerate}\r\n                disabled={selected.length === 0 || authority !== 1}\r\n              >\r\n                Generate Password\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item sm={12}>\r\n          <StudentTable\r\n            data={data}\r\n            handleEdit={handleOpenEdit}\r\n            handleDelete={handleOpenDelete}\r\n            selected={selected}\r\n            setSelected={setSelected}\r\n            showAlert={showAlert}\r\n            authority={authority}\r\n          />\r\n        </Grid>\r\n        {/* <Hidden smDown>\r\n          <Grid item md={3} />\r\n        </Hidden> */}\r\n      </Grid>\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n        open={alert?.open}\r\n        autoHideDuration={5000}\r\n        onClose={() => setAlert({ ...alert, open: false })}\r\n      >\r\n        <Alert variant=\"filled\" severity={alert?.severity}>\r\n          {alert?.msg}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n}\r\n","import { createTheme } from \"@mui/material/styles\";\r\n\r\nconst theme = createTheme({\r\n  typography: {\r\n    fontFamily: [\"Ubuntu Condensed\", \"sans-serif\"].join(\",\"),\r\n    fontSize: 15,\r\n  },\r\n  palette: {\r\n    mode: \"dark\",\r\n    primary: {\r\n      light: \"#0066ff\",\r\n      main: \"#0044ff\",\r\n      // dark: will be calculated from palette.secondary.main,\r\n      contrastText: \"#ffcc00\",\r\n    },\r\n    secondary: {\r\n      main: \"#b2dfdb\",\r\n      light: \"#c1e5e2\",\r\n      contrastText: \"#000\",\r\n    },\r\n    background: {\r\n      paper: \"rgba(0, 0, 0, 0.1)\",\r\n    },\r\n  },\r\n  breakpoints: {\r\n    values: {\r\n      xs: 0,\r\n      sm: 600,\r\n      phone: 700,\r\n      md: 960,\r\n      lg: 1280,\r\n      xl: 1920,\r\n    },\r\n  },\r\n  overrides: {\r\n    MuiCssBaseline: {\r\n      \"@global\": {\r\n        body: {\r\n          background: \"linear-gradient(170deg, #192231 70%, #B6A19E 10%)\",\r\n          backgroundRepeat: \"no-repeat\",\r\n          backgroundAttachment: \"fixed\",\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nexport default theme;\r\n","import React from \"react\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport CssBaseline from \"@mui/material/CssBaseline\";\r\nimport Container from \"@mui/material/Container\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport { makeStyles } from \"@mui/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    justifyContent: \"center\",\r\n    minHeight: \"100vh\",\r\n  },\r\n  progress: {\r\n    marginTop: \"30vh\",\r\n  },\r\n});\r\nconst Loading = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Container component=\"div\" maxWidth=\"lg\">\r\n      <CssBaseline />\r\n      <Grid container className={classes.root}>\r\n        <Grid item className={classes.progress}>\r\n          <CircularProgress />\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Switch, BrowserRouter as Router } from \"react-router-dom\";\r\nimport { ThemeProvider } from \"@mui/material/styles\";\r\n\r\n// Route\r\nimport { Redirect } from \"react-router\";\r\nimport PublicRoute from \"./components/routes/publicRoute\";\r\nimport PrivateRoute from \"./components/routes/privateRoute\";\r\nimport LoginRoute from \"./components/routes/loginRoute\";\r\nimport MainRoute from \"./components/routes/mainRoute\";\r\nimport UserRoute from \"./components/routes/userRoute\";\r\n// containers\r\nimport Drawer from \"./containers/drawer\";\r\nimport Main from \"./containers/main\";\r\nimport Login from \"./containers/login\";\r\nimport StudentData from \"./containers/studentData\";\r\nimport theme from \"./theme\";\r\n// compononets\r\nimport Loading from \"./components/loading\";\r\n// initialize, slices\r\nimport { init, selectSession } from \"./slices/sessionSlice\";\r\n\r\nconst Routes = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(init());\r\n  }, []);\r\n  const { initialized } = useSelector(selectSession);\r\n  return !initialized ? (\r\n    <Loading />\r\n  ) : (\r\n    <Switch>\r\n      <MainRoute exact path=\"/\">\r\n        <Main />\r\n      </MainRoute>\r\n      <LoginRoute exact path=\"/login\">\r\n        <Login />\r\n      </LoginRoute>\r\n      <PrivateRoute exact path=\"/studentdata\">\r\n        <StudentData />\r\n      </PrivateRoute>\r\n      <Redirect to=\"/login\" />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default function App() {\r\n  return (\r\n    <div>\r\n      <ThemeProvider theme={theme}>\r\n        <Router>\r\n          <Drawer>\r\n            <Routes />\r\n          </Drawer>\r\n        </Router>\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n}\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport sessionReducer from \"../slices/sessionSlice\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    session: sessionReducer,\r\n  },\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport App from \"./App\";\r\nimport store from \"./store\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}